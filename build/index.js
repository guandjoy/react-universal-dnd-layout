module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t){e.exports=require("react")},function(e,t,r){e.exports=r(4)()},,function(e,t,r){var n,o;!function(i,u){"use strict";void 0===(o="function"==typeof(n=function(){var e=function(){},t="undefined",r=typeof window!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function c(e,r,n){return function(){typeof console!==t&&(u.call(this,r,n),this[e].apply(this,arguments))}}function a(n,u,a){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?i:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}(n)||c.apply(this,arguments)}function l(e,r,o){var i,c=this,l="loglevel";function s(){var e;if(typeof window!==t){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}e&&(l+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=o||a,c.getLevel=function(){return i},c.setLevel=function(r,o){if("string"==typeof r&&void 0!==c.levels[r.toUpperCase()]&&(r=c.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(i=r,!1!==o&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[l]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+r+";"}catch(e){}}}(r),u.call(c,r,e),typeof console===t&&r<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){s()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var f=s();null==f&&(f=null==r?"WARN":r),c.setLevel(f,!1)}var s=new l,f={};s.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new l(e,s.getLevel(),s.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return s.noConflict=function(){return typeof window!==t&&window.log===s&&(window.log=p),s},s.getLoggers=function(){return f},s})?n.call(t,r,t,e):n)||(e.exports=o)}()},function(e,t,r){"use strict";var n=r(5);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,u){if(u!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i=r(1),u=r.n(i);function c(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,o){return t.apply(this,arguments)};case 5:return function(e,r,n,o,i){return t.apply(this,arguments)};case 6:return function(e,r,n,o,i,u){return t.apply(this,arguments)};case 7:return function(e,r,n,o,i,u,c){return t.apply(this,arguments)};case 8:return function(e,r,n,o,i,u,c,a){return t.apply(this,arguments)};case 9:return function(e,r,n,o,i,u,c,a,l){return t.apply(this,arguments)};case 10:return function(e,r,n,o,i,u,c,a,l,s){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function a(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function l(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function s(e){return function t(r){return 0===arguments.length||l(r)?t:e.apply(this,arguments)}}function f(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return l(r)?t:s((function(t){return e(r,t)}));default:return l(r)&&l(n)?t:l(r)?s((function(t){return e(t,n)})):l(n)?s((function(t){return e(r,t)})):e(r,n)}}}function p(e){return function t(r,n,o){switch(arguments.length){case 0:return t;case 1:return l(r)?t:f((function(t,n){return e(r,t,n)}));case 2:return l(r)&&l(n)?t:l(r)?f((function(t,r){return e(t,n,r)})):l(n)?f((function(t,n){return e(r,t,n)})):s((function(t){return e(r,n,t)}));default:return l(r)&&l(n)&&l(o)?t:l(r)&&l(n)?f((function(t,r){return e(t,r,o)})):l(r)&&l(o)?f((function(t,r){return e(t,n,r)})):l(n)&&l(o)?f((function(t,n){return e(r,t,n)})):l(r)?s((function(t){return e(t,n,o)})):l(n)?s((function(t){return e(r,t,o)})):l(o)?s((function(t){return e(r,n,t)})):e(r,n,o)}}}var d=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};var y=s((function(e){return!!d(e)||!!e&&("object"==typeof e&&(!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),b=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();var m=f((function(e,t){return c(e.length,(function(){return e.apply(t,arguments)}))}));function g(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function O(e,t,r,n){return e["@@transducer/result"](r[n](m(e["@@transducer/step"],e),t))}var v="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function h(e,t,r){if("function"==typeof e&&(e=function(e){return new b(e)}(e)),y(r))return function(e,t,r){for(var n=0,o=r.length;n<o;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(e,t,r);if("function"==typeof r["fantasy-land/reduce"])return O(e,t,r,"fantasy-land/reduce");if(null!=r[v])return g(e,t,r[v]());if("function"==typeof r.next)return g(e,t,r);if("function"==typeof r.reduce)return O(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var j=p(h);function E(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return d(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var w=s(E("tail",p(E("slice",(function(e,t,r){return Array.prototype.slice.call(r,e,t)})))(1,1/0)));function I(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return c(arguments[0].length,j(a,arguments[0],w(arguments)))}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=r(3),T=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(t){var n;return(n=e.log).debug.apply(n,[e.scope].concat(r,[t])),t}}},x=I((function(e){return{scope:e,log:D.getLogger(e)}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{trace:T(e)})})),C=f((function(e,t){return Number(e)-Number(t)})),A=f((function(e,t){return e<t}));function L(e,t){var r;t=t||[];var n=(e=e||[]).length,o=t.length,i=[];for(r=0;r<n;)i[i.length]=e[r],r+=1;for(r=0;r<o;)i[i.length]=t[r],r+=1;return i}var R=f((function(e,t){return c(e.length,(function(){try{return e.apply(this,arguments)}catch(e){return t.apply(this,L([e],arguments))}}))})),k=function(e){return console.error(e)};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W=I(C,Math.abs,A(2)),F=function(e,t){return W(e.x,t.x)||W(e.y,t.y)},U=function(e){return{x:Math.round(e.x),y:Math.round(e.y)}},B=function(e,t){return I(function(e){return function(){return document.getElementById("".concat(e,"-wrapper")).getBoundingClientRect()}}(t),function(e){return function(t){return{x:e.x-t.left,y:e.y-t.top}}}(e),U)},H=function(e,t){return R(B(e,t),k)()},Y=function(e){return document.elementFromPoint(e.x,e.y).id},G=function(e){return R(Y,k)(e)},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return N({},t,{isMouse:!1,isTouch:!1,isPress:!1,isLongPress:!1,isMove:!1,isDrag:!1,pos:null,initialPos:null,numOfCursors:null,dragItemId:null,dragItemIndex:null,dragPoint:null,overItemId:null,overItemIndex:null})};function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var z=function(e,t,r){return e(setTimeout(t,r))},K=function(e){return e((function(e){return clearTimeout(e),null}))};var q=function(e){var t=e.createAction,r=e.isTouch,o=X(Object(n.useState)(),2),i=o[0],u=o[1],c=X(Object(n.useState)(),2),a=c[0],l=c[1],s=Object(n.useCallback)(t("PRESS"),[]),f=Object(n.useCallback)(t("LONG_PRESS"),[]),p=Object(n.useCallback)((function(){!i&&z(u,s,300),!a&&z(l,f,500)}),[a,f,s,i]),d=Object(n.useCallback)((function(){i&&K(u),a&&K(l)}),[a,i]);Object(n.useEffect)((function(){return r&&p(),function(){return r&&d()}}),[d,r,p])};var Z=function(e){var t=e.isTouch,r=e.isMouse,o=e.eventAction,i=Object(n.useCallback)(o("MOUSE_MOVE"),[o]),u=Object(n.useCallback)(o("MOUSE_UP"),[o]),c=Object(n.useCallback)(o("TOUCH_MOVE"),[o]);Object(n.useEffect)((function(){return r&&document.addEventListener("mousemove",i),r&&document.addEventListener("mouseup",u),t&&document.addEventListener("touchmove",c),function(){r&&document.removeEventListener("mousemove",i),r&&document.removeEventListener("mouseup",u),t&&document.removeEventListener("touchmove",c)}}),[i,r,u,t,c])};var J=function(e){var t=e.dragItemId,r=e.eventAction,o=Object(n.useCallback)(r("CLICK_CAPTURE"),[r]),i=Object(n.useMemo)((function(){return t&&document.getElementById(t)}),[t]);Object(n.useEffect)((function(){return i&&i.addEventListener("click",o),function(){return i&&i.removeEventListener("click",o)}}),[i,o])};function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re=x("useCursor").log,ne=function(e,t){switch(re.debug("useCursor reducer",t.type,e,t.payload),t.type){case"MOUSE_MOVE":return function(e){var t=e.state,r=e.event;r.preventDefault(),r.stopPropagation();var n={x:r.clientX,y:r.clientY},o=t.isMove||F(n,t.initialPos),i=t.isDrag||o;return N({},t,{pos:n,isMove:o,isDrag:i,preventClick:t.preventClick||i,overItemId:G(n)})}(ee({state:e},t.payload));case"MOUSE_DOWN":return function(e){var t=e.state,r=e.pos,n=e.item;return N({},t,{isMouse:!0,initialPos:r,dragItemId:n.id,dragItemIndex:n.index,pos:r,dragPoint:H(r,n.id)})}(ee({state:e},t.payload));case"MOUSE_UP":case"DRAG_END":return V({state:e});case"CLICK_CAPTURE":return function(e){var t=e.state,r=e.event;return t.preventClick&&r.stopPropagation(),N({},t,{preventClick:!1})}(ee({state:e},t.payload));case"TOUCH_START":return function(e){var t=e.state,r=e.touches,n=e.item;return N({},t,{isTouch:!0,initialPos:r.pos,numOfCursors:r.numOfCursors,dragItemId:n.id,dragItemIndex:n.index,pos:r.pos})}(ee({state:e},t.payload));case"TOUCH_MOVE":return function(e){var t=e.state,r=e.event;e.item;r.preventDefault(),r.stopPropagation();var n={x:r.touches[0].clientX,y:r.touches[0].clientY};return N({},t,{pos:n,isMove:t.isMove||F(n,t.initialPos),overItemId:G(n)})}(ee({state:e},t.payload));case"TOUCH_END":return V({state:e});case"PRESS":return function(e){var t=e.state;return N({},t,{isPress:!t.isMove})}({state:e});case"LONG_PRESS":return function(e){var t=e.state;return N({},t,{isLongPress:!t.isMove,isDrag:!t.isMove,dragPoint:H(t.initialPos,t.dragItemId)})}({state:e});case"SET_METHODS":return ee({},e,{},t.payload);case"SET_OVER_ITEM":return ee({},e,{overItemIndex:t.payload,overItemId:t.payload});default:return e}},oe=function(e){return function(t){return function(r){return e({type:t,payload:r})}}},ie=function(e){return function(t){return function(r){return e({type:t,payload:{event:r}})}}},ue=function(e){return function(t){return function(r){return function(n){n.preventDefault();var o={x:n.clientX,y:n.clientY};e({type:t,payload:{pos:o,item:r}})}}}},ce=function(e){return function(t){return function(r){return function(n){n.preventDefault(),n.stopPropagation();var o=n.touches.length,i={x:n.touches[0].clientX,y:n.touches[0].clientY};e({type:t,payload:{touches:{numOfCursors:o,pos:i},item:r}})}}}};var ae=function(){var e=Q(Object(n.useReducer)(ne,{},V),2),t=e[0],r=e[1],o=Object(n.useCallback)(oe(r),[]),i=Object(n.useCallback)(ie(r),[]),u=Object(n.useCallback)(ue(r)("MOUSE_DOWN"),[]),c=Object(n.useCallback)(ce(r)("TOUCH_START"),[]),a=Object(n.useCallback)((function(e){var t=e.index,r=e.id;return{onMouseDown:u({index:t,id:r}),onTouchStart:c({index:t,id:r}),onDragEnd:i("DRAG_END"),onTouchEnd:i("TOUCH_END")}}),[i,u,c]);Z(ee({},t,{eventAction:i})),q(ee({createAction:o},t)),J({dragItemId:t.dragItemId,eventAction:i}),Object(n.useEffect)((function(){return re.debug("useCursor state update",t)}),[t]);var l=Object(n.useCallback)(o("SET_METHODS"),[]),s=Object(n.useCallback)(o("SET_OVER_ITEM"),[]);return Object(n.useEffect)((function(){return l({setOverItem:s})}),[l,s]),[t,a]};function le(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function se(e,t,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),o=n.pop();if(!d(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,n);i+=1}if(le(o)){var u=t.apply(null,n);return u(o)}}return r.apply(this,arguments)}}var fe=function(){return this.xf["@@transducer/init"]()},pe=function(e){return this.xf["@@transducer/result"](e)},de=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=fe,e.prototype["@@transducer/result"]=pe,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),ye=f((function(e,t){return new de(e,t)}));var be=f((function(e,t){return 1===e?s(t):c(e,function e(t,r,n){return function(){for(var o=[],i=0,u=t,a=0;a<r.length||i<arguments.length;){var s;a<r.length&&(!l(r[a])||i>=arguments.length)?s=r[a]:(s=arguments[i],i+=1),o[a]=s,l(s)||(u-=1),a+=1}return u<=0?n.apply(this,o):c(u,e(t,o,n))}}(e,[],t))}));function me(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var ge=Object.prototype.toString,Oe=function(){return"[object Arguments]"===ge.call(arguments)?function(e){return"[object Arguments]"===ge.call(e)}:function(e){return me("callee",e)}}(),ve=!{toString:null}.propertyIsEnumerable("toString"),he=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],je=function(){return arguments.propertyIsEnumerable("length")}(),Ee=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},we="function"!=typeof Object.keys||je?s((function(e){if(Object(e)!==e)return[];var t,r,n=[],o=je&&Oe(e);for(t in e)!me(t,e)||o&&"length"===t||(n[n.length]=t);if(ve)for(r=he.length-1;r>=0;)me(t=he[r],e)&&!Ee(n,t)&&(n[n.length]=t),r-=1;return n})):s((function(e){return Object(e)!==e?[]:Object.keys(e)})),Ie=f(se(["fantasy-land/map","map"],ye,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return be(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return h((function(r,n){return r[n]=e(t[n]),r}),{},we(t));default:return function(e,t){for(var r=0,n=t.length,o=Array(n);r<n;)o[r]=e(t[r]),r+=1;return o}(e,t)}})));function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function De(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xe,Ce=x("useItems").trace,Ae=I((function(e){return Se({},e,{dragItemPrevOrder:e.items[e.dragItemIndex].order,dragItemNewOrder:e.items[e.overItemIndex].order})}),Ce("update drag item orders"),(xe=function(e){var t=Te(e,2),r=t[0],n=void 0===r?1:r,o=t[1],i=void 0===o?0:o;return function(e){var t=e.order;return n<i?t>n&&t<=i?t-=1:t===n&&(t=i):n>i&&(t<n&&t>=i?t+=1:t===n&&(t=i)),Se({},e,{order:t})}},function(e){return Se({},e,{isRearranges:!0,items:Ie(xe([e.dragItemPrevOrder,e.dragItemNewOrder]),e.items)})}),Ce("rearrange items"),(function(e){return e.setOverItem(null),e}),Ce("reset over item"),(function(e){return e.onRearrange(e),Se({},e,{dragItemId:null,dragItemIndex:null,overItemId:null,overItemIndex:null,dragItemPrevOrder:null,dragItemNewOrder:null})}),Ce("on rearrange"));function Le(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){Me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ne=function(e){return function(t,r){return t.props.isSeparator?function(e){var t=e.child;return{index:e.index,id:t.key,order:t.props.order,isSeparator:t.props.isSeparator,element:t}}({child:t,index:r}):function(e){var t=e.child,r=e.index,n=e.getDraggableItemEvents;return{index:r,id:t.key,order:t.props.order,isSeparator:t.props.isSeparator,width:t.props.width,height:t.props.height,element:o.a.cloneElement(t,ke({},t.props,{draggableItem:n({index:r,id:t.key})}))}}({child:t,index:r,getDraggableItemEvents:e})}},_e=function(e){var t=e.children,r=e.getDraggableItemEvents;return o.a.Children.map(t,Ne(r))},We=function(e){var t=e.state,r=e.children,n=e.getDraggableItemEvents;return ke({},t,{},Le(e,["state","children","getDraggableItemEvents"]),{dragItemId:null,dragItemIndex:null,overItemId:null,overItemIndex:null,dragItemPrevOrder:null,dragItemNewOrder:null,isRearranges:!1,setOverItem:null,items:_e({children:r,getDraggableItemEvents:n}),getFirstItem:function(){return this.items.find((function(e){return!e.isSeparator}))}})};function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Be=I((function(e,t){return e.find((function(e){return e.id===t}))}),(function(e){return e?e.index:null})),He=function(e){var t=e.state,r=e.overItemIndex,n=e.overItemId,o=e.dragItemIndex,i=e.dragItemId,u=e.setOverItem;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{overItemId:n,overItemIndex:r||Be(t.items,n),dragItemId:i,dragItemIndex:o,setOverItem:u})},Ye=s((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ke=x("useItems").log,qe=function(e,t){switch(Ke.debug("useItems reducer",t.type,e,t.payload),t.type){case"UPDATE":return We(Xe({state:e},t.payload));case"CHECK_OVER_ITEM":return He(Xe({state:e},t.payload));case"REORDER":return Ae(e);case"REARRANGED":return e.setOverItem&&e.setOverItem(null),Xe({},e,{isRearranges:!1});default:return e}},Ze=function(e){return function(t){return function(r){return e({type:t,payload:r})}}};var Je=function(e){var t=e.children,r=e.getDraggableItemEvents,o=e.cursor,i=e.transitionDuration,u=e.onRearrange,c=Ge(Object(n.useReducer)(qe,[],(function(){return We({children:t,getDraggableItemEvents:r,transitionDuration:i,onRearrange:u})})),2),a=c[0],l=c[1],s=Object(n.useCallback)(Ze(l),[]),f=Object(n.useCallback)(s("UPDATE"),[]),p=Object(n.useCallback)(s("CHECK_OVER_ITEM"),[]),d=Object(n.useCallback)(s("REORDER"),[]),y=Object(n.useCallback)(s("REARRANGED"),[]);return Object(n.useEffect)((function(){return f({children:t,getDraggableItemEvents:r})}),[f,t,r,i,u]),Object(n.useEffect)((function(){o.isDrag&&!a.isRearranges&&o.overItemId&&o.dragItemId&&o.overItemId!==o.dragItemId&&p({dragItemId:o.dragItemId,dragItemIndex:o.dragItemIndex,overItemId:o.overItemId,overItemIndex:o.overItemIndex,setOverItem:o.setOverItem})}),[p,o.dragItemId,o.dragItemIndex,o.isDrag,o.overItemId,o.overItemIndex,o.setOverItem,a.isRearranges]),Object(n.useEffect)((function(){"Number"===Ye(a.overItemIndex)&&"Number"===Ye(a.dragItemIndex)&&d()}),[d,a.overItemIndex,a.dragItemIndex]),Object(n.useEffect)((function(){a.isRearranges&&setTimeout((function(){return y()}),i)}),[y,a.isRearranges,i]),Object(n.useEffect)((function(){return Ke.debug("useItems state update",a)}),[a]),a};function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tt=r(3).getLogger("ghost"),rt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return tt.debug.apply(tt,["useGhost debug:"].concat(t,[e])),e}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return $e({},t,{isActive:!1,isDrop:!1,isTransit:!1,id:null,pos:null,className:null,kernel:null,transDur:null,transTFunc:null,onTransitionEnd:null,transitionTimeout:null,sourceItem:null,sourceId:null,sourceElement:null,sourceClassList:null})},ot=function(e){return{x:e.pos.x-e.dragPoint.x,y:e.pos.y-e.dragPoint.y}},it=function(e){return{sourceItem:e}},ut=function(e){return $e({},e,{sourceId:e.sourceItem.id})},ct=function(e){return $e({},e,{sourceElement:document.getElementById(e.sourceId)})},at=function(e){return $e({},e,{sourceClassList:e.sourceElement.classList})},lt=function(e){return e.sourceClassList.add("ghost"),e},st=function(e){return $e({},e)},ft=function(e){return $e({},e,{id:"".concat(e.sourceId,"-ghost")})},pt=function(e){return $e({},e,{className:e.sourceClassList})},dt=function(e){return $e({},e,{kernel:Object(n.cloneElement)(e.sourceItem.element,{draggableItem:{id:e.id,className:e.className}})})},yt=function(e){return $e({},e,{isActive:!0})},bt=function(e){return I(it,ut,ct,at,lt,function(e){return function(t){return e.isTouch&&t.sourceClassList.add("touch"),t}}(e),st,ft,pt,dt,function(e){return function(t){return $e({},t,{pos:ot(e)})}}(e),yt,rt("setGhost"))},mt=I(ot,rt("calcMovePos")),gt=I((function(e){return"".concat(e,"-wrapper")}),(function(e){return document.getElementById(e)}),(function(e){return e.getBoundingClientRect()}),(function(e){return{x:e.left,y:e.top}}),rt("getWrapperFixedPosFromSourceId")),Ot=function(e){var t=e.pos,r=e.isTransit,n=e.kernel,i=e.transDur,u=e.transTFunc,c=e.onTransitionEnd,a=r?"left ".concat(i,"ms ").concat(u,", top ").concat(i,"ms ").concat(u):"none";return o.a.createElement("div",{style:{position:"fixed",visibility:"visible",left:t.x,top:t.y,pointerEvents:"none",transition:a},onTransitionEnd:c},n)};Ot.propTypes={pos:u.a.object,y:u.a.number,isTransit:u.a.bool,transDur:u.a.number,transTFunc:u.a.string,onTransitionEnd:u.a.func,kernel:u.a.element};var vt=Ot;function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var wt=x("useGhost").log,It=function(e,t){switch(wt.debug("useGhost reducer",t.type,e,t.payload),t.type){case"START":return function(e){var t=e.state,r=e.cursor,n=e.item,o=e.transitionParams,i=e.onTransitionEnd;return $e({},t,{},bt(r)(n),{transDur:o.ghostTransitionDuration,transTFunc:o.ghostTransitionTimingFunction,onTransitionEnd:i})}({state:e,cursor:t.payload.cursor,item:t.payload.item,transitionParams:t.payload.transitionParams,onTransitionEnd:t.payload.onTransitionEnd});case"MOVE":return function(e){var t=e.state,r=e.cursor;return $e({},t,{pos:mt(r)})}({state:e,cursor:t.payload.cursor});case"DROP":return function(e){var t=e.state;return $e({},t,{isDrop:!0,isTransit:!0,pos:gt(t.sourceId),transitionTimeout:setTimeout(t.onTransitionEnd,t.transDur+100)})}({state:e});case"END":return function(e){var t=e.state;return rt("end")(),t.sourceElement.classList.remove("ghost","touch"),clearTimeout(t.transitionTimeout),nt({state:t})}({state:e});default:return e}},Pt=function(e){return function(t){return function(r){return e({type:t,payload:r})}}};var St=function(e,t,r){var o=Et(Object(n.useReducer)(It,{},nt),2),i=o[0],u=o[1],c=Object(n.useCallback)(Pt(u),[]),a=Object(n.useCallback)(c("START"),[]),l=Object(n.useCallback)(c("MOVE"),[]),s=Object(n.useCallback)(c("DROP"),[]),f=Object(n.useCallback)(c("END"),[]);return Object(n.useEffect)((function(){e.isDrag&&!i.isActive&&a({cursor:e,item:t[e.dragItemIndex],transitionParams:r,onTransitionEnd:f})}),[e,t,a,f,i.isActive,r]),Object(n.useEffect)((function(){e.isDrag&&e.isMove&&e.pos&&l({cursor:e})}),[e,l]),Object(n.useEffect)((function(){i.isActive&&!e.isDrag&&!i.isDrop&&s()}),[e.isDrag,s,i.isActive,i.isDrop]),Object(n.useEffect)((function(){return wt.debug("useGhost state update",i)}),[i]),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(r),!0).forEach((function(t){jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i)};function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){Ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var At=x("useBody").log,Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return xt({},t,{pressMode:!1,defaultOverflow:document.body.style.overflow,defaultOverscrollBehaviorY:document.body.style.overscrollBehaviorY})},Rt=function(e,t){switch(At.debug("useBody reducer",t.type,e,t.payload),t.type){case"PRESS":return function(e){return document.body.style.overflow="hidden",document.body.style.overscrollBehaviorY="contain",xt({},e,{pressMode:!0})}(e);case"UNPRESS":return function(e){return document.body.style.overflow=e.defaultOverflow,document.body.style.overscrollBehaviorY=e.defaultOverscrollBehaviorY,xt({},e,{pressMode:!1})}(e);default:return e}},kt=function(e){return function(t){return function(r){return e({type:t,payload:r})}}};var Mt=function(e){var t=Dt(Object(n.useReducer)(Rt,{},Lt),2),r=t[0],o=t[1],i=Object(n.useCallback)(kt(o),[]),u=Object(n.useCallback)(i("PRESS"),[]),c=Object(n.useCallback)(i("UNPRESS"),[]);return Object(n.useEffect)((function(){e.isPress&&!r.pressMode&&u(),!e.isPress&&r.pressMode&&c()}),[e.isPress,u,c,r.pressMode]),Object(n.useEffect)((function(){return At.debug("useBody state updated",r)}),[r]),r},Nt=function(e){var t=e.width,r=e.height,n=e.transition,i=e.layoutIsMount,u=e.transitionDuration,c=e.transitionTimingFunction,a=e.children;return o.a.createElement("div",{style:{position:"relative",width:"".concat(t,"px"),height:"".concat(r,"px"),margin:"0 auto 0 auto",transition:n&&i?"width ".concat(u,"ms ").concat(c):"none"},className:"boundry-box"},a)};Nt.propTypes={width:u.a.number,height:u.a.number,transition:u.a.bool,layoutIsMount:u.a.bool,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,children:u.a.element};var _t=Nt,Wt=s((function(e){return be(e.length,e)})),Ft=Wt((function(e,t,r){return e({type:t,payload:r})}));function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gt=x("Endline").log,Vt=Wt((function(e,t,r,n){return e({type:r,payload:{ref:t,event:n}})})),Xt=I((function(e){var t=e.state,r=e.ref;e.event;return Ht({},t,{endlineDistanceToTop:r.current.getBoundingClientRect().top})}),(function(e){return Ht({},e,{endlineDistanceToViewport:e.endlineDistanceToTop-window.innerHeight})})),zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return Ht({},t,{endlineDistanceToTop:void 0,endlineDistanceToViewport:void 0,lastTriggeredNumOfItems:void 0})},Kt=function(e,t){switch(Gt.debug("Endline reducer",t.type,e,t.payload),t.type){case"SCROLL":return Xt(Ht({state:e},t.payload));case"ENDLINE_ENTER":return function(e){var t=e.state,r=e.onEndlineEnter,n=e.numOfLoadedItems;return r(),Ht({},t,{lastTriggeredNumOfItems:n})}(Ht({state:e},t.payload));default:return e}};function qt(e){var t=e.layout,r=e.onEndlineEnter,i=Ut(Object(n.useReducer)(Kt,{},zt),2),u=i[0],c=i[1],a=Object(n.useCallback)(Vt(c,s,"SCROLL"),[]),l=Object(n.useCallback)(Ft(c,"ENDLINE_ENTER"));Object(n.useEffect)((function(){u.endlineDistanceToViewport<=0&&u.lastTriggeredNumOfItems!==t.numOfItems&&l({onEndlineEnter:r,numOfLoadedItems:t.numOfItems})}),[l,t.numOfItems,r,u]),Object(n.useEffect)((function(){return a(),t.isMount&&window.addEventListener("scroll",a),function(){t.isMount&&window.removeEventListener("scroll",a)}}),[a,t.isMount]),Object(n.useEffect)((function(){return Gt.debug("Endline state update",u)}),[u]);var s=Object(n.useRef)(),f=Object(n.useRef)(),p=t.endlineStartX,d=t.endlineStartY,y=t.endlineEndX,b=t.endlineEndY;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"MasonryLayoutEndlineStart",ref:s,style:{position:"absolute",top:"".concat(d,"px"),left:"".concat(p,"px")}}),o.a.createElement("div",{id:"MasonryLayoutEndlineEnd",ref:f,style:{position:"absolute",top:"".concat(b,"px"),left:"".concat(y,"px")}}))}qt.propTypes={layout:u.a.object,onEndlineEnter:u.a.func};var Zt=qt;function Jt(e){var t=e.width,r=e.component;return o.a.createElement("div",{style:{position:"relative",width:"".concat(t,"px"),margin:"0 auto 0 auto"}},r)}Jt.propTypes={component:u.a.element,width:u.a.number};var Qt=Jt;function $t(e){var t=e.item,r=e.layoutElement,n=e.ghostSourceId,i=e.transition,u=e.layoutIsMount,c=e.transitionDuration,a=e.transitionTimingFunction,l=e.ghostIsActive,s=e.loadHandler,f=e.onClickCapture;return o.a.createElement("div",{className:"element-bounding",id:"".concat(t.id,"-wrapper"),key:"".concat(t.id,"-wrapper"),style:{position:"absolute",margin:0,padding:0,userSelect:"none",top:"".concat(r?r.y:0,"px"),left:"".concat(r?r.x:0,"px"),transition:"".concat(n!==t.id&&i&&u?"top ".concat(c,"ms ").concat(a,", left ").concat(c,"ms ").concat(a):"none"),visibility:r&&u?"visible":"hidden",opacity:l&&n===t.id?0:1},onLoad:s.onLoad,onError:s.onError,onClickCapture:f},t.element)}$t.propTypes={item:u.a.object,layoutElement:u.a.object,ghostSourceId:u.a.any,transition:u.a.bool,layoutIsMount:u.a.bool,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,ghostIsActive:u.a.bool,loadHandler:u.a.object,onClickCapture:u.a.func};var er=$t;function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rr=function(e){var t=tr(Object(n.useState)(null),2),r=t[0],o=t[1],i=Object(n.useRef)(null),u=Object(n.useCallback)(e,[e]),c=Object(n.useCallback)((function(){var e=i.current.offsetWidth;o(e),r!==e&&u(e)}),[u,r]);return Object(n.useEffect)((function(){return o(i.current.offsetWidth),window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}}),[c]),[i,r]},nr=p((function(e,t,r){if(e>=r.length||e<-r.length)return r;var n=(e<0?r.length:0)+e,o=L(r);return o[n]=t(r[n]),o})),or=s((function(e){return function(){return e}})),ir=p((function(e,t,r){return nr(e,or(t),r)}));function ur(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){lr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sr=function(e){return ar({},e,{itemWrapperId:"".concat(e.referencedItem.id,"-wrapper")})},fr=function(e){return ar({},e,{itemWrapperElement:document.getElementById(e.itemWrapperId)})},pr=function(e){return ar({},e,{itemWrapperWidth:e.referencedItem.width||e.itemWrapperElement.offsetWidth})},dr=function(e){return ar({},e,{numOfColumns:Math.floor(e.wrapperWidth/e.itemWrapperWidth)})},yr=function(e){return ar({},e,{endlinePerColumn:Array(e.numOfColumns).fill(0)})},br=function(e){return{item:e}},mr=function(e){return ar({},e,{itemElement:document.getElementById(e.item.id),itemWrapperElement:document.getElementById("".concat(e.item.id,"-wrapper"))})},gr=function(e){return ar({},e,{itemWidth:e.item.width||e.itemElement.offsetWidth,itemHeight:e.item.height||e.itemElement.offsetHeight,itemOffsetLeft:e.itemElement.offsetLeft,itemOffsetTop:e.itemElement.offsetTop,itemWrapperHeight:e.item.height||e.itemWrapperElement.offsetHeight,itemWrapperWidth:e.item.width||e.itemWrapperElement.offsetWidth})},Or=function(e){return Math.max.apply(Math,ur(e))},vr=function(e){return e.indexOf(Math.max.apply(Math,ur(e)))},hr=function(e){return e.indexOf(Math.min.apply(Math,ur(e)))},jr=function(e){return function(t){return t.item.isSeparator?function(e,t){var r=Or(t),n=vr(t),o=r+e.itemWrapperHeight;return ar({},e,{x:0,y:t[n],endlinePerColumn:t.concat().fill(o)})}(t,e):function(e,t){var r=hr(t);return ar({},e,{x:r*e.itemWrapperWidth,y:t[r],endlinePerColumn:nr(r,(function(t){return t+e.itemWrapperHeight}),t)})}(t,e)}},Er=function(e,t){var r,n=(r=e.endlinePerColumn,I(br,mr,gr,jr(r)))(t);return ar({},e,{units:ir(t.index,n,e.units),endlinePerColumn:n.endlinePerColumn})},wr=function(e){return ar({},e,{},e.itemsSortedByOrder.reduce(Er,{units:Array(e.itemsSortedByOrder.length),endlinePerColumn:e.endlinePerColumn}))},Ir=function(e){return ar({},e,{endlineStartX:e.itemWrapperWidth*hr(e.endlinePerColumn),endlineStartY:(t=e.endlinePerColumn,Math.min.apply(Math,ur(t))),endlineEndX:e.itemWrapperWidth*vr(e.endlinePerColumn),endlineEndY:Or(e.endlinePerColumn)});var t},Pr=function(e){return ar({},e,{height:e.endlineEndY,width:e.itemWrapperWidth*e.numOfColumns})},Sr=function(e){return ar({},e,{isMount:!0,transition:e.isMount})},Dr=function(e,t,r){return I(function(e){return function(t){return ar({},t,{prevNumOfItems:t.numOfItems,numOfItems:e.length,itemsSortedByOrder:e.concat().sort((function(e,t){return e.order-t.order})),referencedItem:e.find((function(e){return!e.isSeparator}))})}}(t),sr,function(e){return function(t){return ar({},t,{wrapperWidth:e})}}(r),fr,pr,dr,yr,wr,Ir,Pr,Sr)(e)};function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xr(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(r),!0).forEach((function(t){Lr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rr=x("useLayout").log,kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return Ar({},t,{isMount:!1,transition:!1,wrapperWidth:null,numOfColumns:null,prevNumOfItems:null,numOfItems:null,referencedItem:null,itemWrapperWidth:null,itemWrapperId:null,itemWrapperElement:null,itemsSortedByOrder:null,units:null,endlinePerColumn:null,endlineStartX:null,endlineStartY:null,endlineEndX:null,endlineEndY:null,width:null,height:null})},Mr=function(e,t){switch(Rr.debug("useLayout reducer",t.type,e,t.payload),t.type){case"RESIZE":return Dr.apply(void 0,[e].concat(xr(t.payload)))}};var Nr=function(e,t){var r=Tr(Object(n.useReducer)(Mr,{},kr),2),o=r[0],i=r[1],u=Object(n.useCallback)(Ft(i),[]);return Object(n.useEffect)((function(){e&&u("RESIZE",[t,e])}),[u,t,e]),Object(n.useEffect)((function(){return Rr.debug("useLayout state updated",o)}),[o]),o};function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){Ur(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ur(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Br=x("useLoadHandler").log,Hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return Fr({},t,{numOfErrors:0,numOfLoads:0})},Yr=function(e,t){switch(Br.debug("useLoadHandler reducer",t.type,e,t.payload),t.type){case"ON_ERROR":return Fr({},e,{numOfErrors:e.numOfErrors+1});case"ON_LOAD":return Fr({},e,{numOfLoads:e.numOfLoads+1});default:return e}};var Gr=function(){var e=_r(Object(n.useReducer)(Yr,{},Hr),2),t=e[0],r=e[1],o=Object(n.useCallback)(Ft(r,"ON_ERROR"),[]),i=Object(n.useCallback)(Ft(r,"ON_LOAD"),[]);return Object(n.useEffect)((function(){return Br.debug("useLoadHandler state update",t)}),[t]),Fr({},t,{onError:o,onLoad:i})};function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xr=r(3);function zr(e){var t=e.transitionTimingFunction,r=e.transitionDuration,i=e.ghostTransitionDuration,u=e.ghostTransitionTimingFunction,c=e.children,a=e.onRearrange,l=e.onWidthResize,s=e.header,f=e.onEndlineEnter,p=Vr(rr(l),2),d=p[0],y=p[1],b=Vr(ae(),2),m=b[0],g=b[1],O=Je({children:c,getDraggableItemEvents:g,cursor:m,transitionDuration:r,onRearrange:a}).items,v=St(m,O,{ghostTransitionTimingFunction:u,ghostTransitionDuration:i}),h=(Mt(m),Nr(y,O)),j=Gr(),E=Object(n.useMemo)((function(){return O.map((function(e,n){return o.a.createElement(er,{item:e,key:"".concat(e.id,"-wrapper"),layoutElement:h.isMount&&h.units[n],transition:h.transition,layoutIsMount:h.isMount,transitionDuration:r,transitionTimingFunction:t,ghostSourceId:v.sourceId,ghostIsActive:v.isActive,loadHandler:j})}))}),[O,h.isMount,h.units,h.transition,r,t,v.sourceId,v.isActive,j]);return o.a.createElement("div",{className:"masonry",ref:d},s&&h.isMount&&o.a.createElement(Qt,{width:h.width,component:s}),o.a.createElement(_t,{width:h.width,height:h.height,transitionDuration:r,transitionTimingFunction:t,transition:h.transition,layoutIsMount:h.isMount},E,v.isActive&&o.a.createElement(vt,v),h.isMount&&f&&o.a.createElement(Zt,{layout:h,onEndlineEnter:f})))}Xr.setLevel("warn"),Xr.getLogger("useGhost").setLevel("warn"),Xr.getLogger("useCursor").setLevel("warn"),Xr.getLogger("useGrid").setLevel("warn"),Xr.getLogger("useItems").setLevel("warn"),Xr.getLogger("useBody").setLevel("warn"),Xr.getLogger("useLayout").setLevel("warn"),Xr.getLogger("useLoadHandler").setLevel("warn"),Xr.getLogger("Endline").setLevel("warn"),zr.propTypes={header:u.a.element,children:u.a.element,reverse:u.a.bool,onEndlineEnter:u.a.func,onRearrange:u.a.func,onWidthResize:u.a.func,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,ghostTransitionDuration:u.a.number,ghostTransitionTimingFunction:u.a.string},zr.defaultProps={transitionDuration:600,transitionTimingFunction:"ease",ghostTransitionDuration:200,ghostTransitionTimingFunction:"ease"};t.default=zr}]);