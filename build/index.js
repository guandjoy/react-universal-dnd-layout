module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e){t.exports=require("react")},function(t,e,n){t.exports=n(2)()},function(t,e,n){"use strict";var r=n(3);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,u){if(u!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(1),u=n.n(i);var c=function(t){var e=t.ghostTransitionDuration,n=t.ghostTransitionTimingFunction;return o.a.createElement("div",{style:{position:"fixed",visibility:"visible",left:t.x,top:t.y,pointerEvents:"none",transition:t.drag?"none":"left ".concat(e,"ms ").concat(n,", top ").concat(e,"ms ").concat(n)},onTransitionEnd:function(){return t.onGhostEndTransition()}},t.children)};function a(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function s(t){return function e(n){return 0===arguments.length||a(n)?e:t.apply(this,arguments)}}function l(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return a(n)?e:s((function(e){return t(n,e)}));default:return a(n)&&a(r)?e:a(n)?s((function(e){return t(e,r)})):a(r)?s((function(e){return t(n,e)})):t(n,r)}}}var f=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function p(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function d(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!f(o)){for(var i=0;i<t.length;){if("function"==typeof o[t[i]])return o[t[i]].apply(o,r);i+=1}if(p(o)){var u=e.apply(null,r);return u(o)}}return n.apply(this,arguments)}}var y=s((function(t){return!!f(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),b=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function m(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,u){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,u,c){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,u,c,a){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,u,c,a,s){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,u,c,a,s,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var h=l((function(t,e){return m(t.length,(function(){return t.apply(e,arguments)}))}));function g(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function O(t,e,n,r){return t["@@transducer/result"](n[r](h(t["@@transducer/step"],t),e))}var v="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function j(t,e,n){if("function"==typeof t&&(t=function(t){return new b(t)}(t)),y(n))return function(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return O(t,e,n,"fantasy-land/reduce");if(null!=n[v])return g(t,e,n[v]());if("function"==typeof n.next)return g(t,e,n);if("function"==typeof n.reduce)return O(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var w=function(){return this.xf["@@transducer/init"]()},E=function(t){return this.xf["@@transducer/result"](t)},x=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=w,t.prototype["@@transducer/result"]=E,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),S=l((function(t,e){return new x(t,e)}));var P=l((function(t,e){return 1===t?s(e):m(t,function t(e,n,r){return function(){for(var o=[],i=0,u=e,c=0;c<n.length||i<arguments.length;){var s;c<n.length&&(!a(n[c])||i>=arguments.length)?s=n[c]:(s=arguments[i],i+=1),o[c]=s,a(s)||(u-=1),c+=1}return u<=0?r.apply(this,o):m(u,t(e,o,r))}}(t,[],e))}));function T(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var D=Object.prototype.toString,I=function(){return"[object Arguments]"===D.call(arguments)?function(t){return"[object Arguments]"===D.call(t)}:function(t){return T("callee",t)}}(),C=!{toString:null}.propertyIsEnumerable("toString"),M=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],A=function(){return arguments.propertyIsEnumerable("length")}(),R=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},k="function"!=typeof Object.keys||A?s((function(t){if(Object(t)!==t)return[];var e,n,r=[],o=A&&I(t);for(e in t)!T(e,t)||o&&"length"===e||(r[r.length]=e);if(C)for(n=M.length-1;n>=0;)T(e=M[n],t)&&!R(r,e)&&(r[r.length]=e),n-=1;return r})):s((function(t){return Object(t)!==t?[]:Object.keys(t)})),L=l(d(["fantasy-land/map","map"],S,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return P(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return j((function(n,r){return n[r]=t(e[r]),n}),{},k(e));default:return function(t,e){for(var n=0,r=e.length,o=Array(r);n<r;)o[n]=t(e[n]),n+=1;return o}(t,e)}})));function _(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function F(t){return function e(n,r,o){switch(arguments.length){case 0:return e;case 1:return a(n)?e:l((function(e,r){return t(n,e,r)}));case 2:return a(n)&&a(r)?e:a(n)?l((function(e,n){return t(e,r,n)})):a(r)?l((function(e,r){return t(n,e,r)})):s((function(e){return t(n,r,e)}));default:return a(n)&&a(r)&&a(o)?e:a(n)&&a(r)?l((function(e,n){return t(e,n,o)})):a(n)&&a(o)?l((function(e,n){return t(e,r,n)})):a(r)&&a(o)?l((function(e,r){return t(n,e,r)})):a(n)?s((function(e){return t(e,r,o)})):a(r)?s((function(e){return t(n,e,o)})):a(o)?s((function(e){return t(n,r,e)})):t(n,r,o)}}}var B=F(j);function W(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return f(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var H=s(W("tail",F(W("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})))(1,1/0)));function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X,z=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return m(arguments[0].length,B(_,arguments[0],H(arguments)))}((function(t){var e=t.state,n=t.dragItemIndex,r=void 0===n?1:n,o=t.overItemIndex,i=void 0===o?0:o;return{items:e,dragItemOrder:e[r].order,overItemOrder:e[i].order}}),(X=function(t){var e=t.dragItemOrder,n=void 0===e?1:e,r=t.overItemOrder,o=void 0===r?0:r;return function(t){var e=t.order;return n<o?e>n&&e<=o?e-=1:e===n&&(e=o):n>o&&(e<n&&e>=o?e+=1:e===n&&(e=o)),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){Y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{order:e})}},function(t){var e=t.items,n=t.dragItemOrder,r=t.overItemOrder;return L(X({dragItemOrder:n,overItemOrder:r}),e)}));function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V=function(t){return function(e,n){return e.props.isSeparator?function(t){var e=t.child;return{index:t.index,id:e.key,order:e.props.order,isSeparator:e.props.isSeparator,element:e}}({child:e,index:n}):function(t){var e=t.child,n=t.index,r=t.initDraggableItem;return{index:n,id:e.key,order:e.props.order,isSeparator:e.props.isSeparator,width:e.props.width,height:e.props.height,element:o.a.cloneElement(e,q({},e.props,{draggableItem:r(n)}))}}({child:e,index:n,initDraggableItem:t})}},J=function(t){var e=t.children,n=t.initDraggableItem;return o.a.Children.map(e,V(n))};function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $=function(t,e){switch(e.type){case"UPDATE":return J(e.payload);case"REORDER":return z(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({state:t},e.payload));default:return t}},tt=function(t){return function(e){return function(n){return t({type:e,payload:n})}}};function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ot,it,ut,ct=function(t){return function(e){e.preventDefault(),e.stopPropagation(),t((function(t){return nt({},t,{pos:{x:e.clientX,y:e.clientY}})}))}},at=function(t){return function(e){return function(n){n.preventDefault();var r={x:n.clientX,y:n.clientY};t({isDown:!0,initialPos:r,pos:r,preventClick:!1,itemIndex:e})}}},st=function(t){return function(e){return function(n){return t(e)}}},lt=function(t){return function(e){return t()}},ft=function(t){return function(e){return function(n){n.preventDefault(),n.stopPropagation();var r={x:n.touches[0].clientX,y:n.touches[0].clientY};t({isActive:!0,numOfFingers:n.touches.length,initialPos:r,pos:r,itemIndex:e})}}},pt=function(t){return function(e){e.preventDefault(),e.stopPropagation();var n={x:e.touches[0].clientX,y:e.touches[0].clientY};t((function(t){return nt({},t,{pos:n})}))}},dt=function(t){return function(e){return t()}};function yt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mt(t){var e=t.transitionTimingFunction,n=t.transitionDuration,i=t.ghostTransitionDuration,u=t.ghostTransitionTimingFunction,a=bt(function(t){var e=t.children,n=t.initDraggableItem,o=K(Object(r.useReducer)($,[],(function(){return J({children:e,initDraggableItem:n})})),2),i=o[0],u=o[1],c=Object(r.useMemo)((function(){return tt(u)}),[u]),a=Object(r.useMemo)((function(){return c("UPDATE")}),[c]),s=Object(r.useMemo)((function(){return c("REORDER")}),[c]);return Object(r.useEffect)((function(){a({children:e,initDraggableItem:n})}),[a,e,n]),[i,s]}({children:t.children,initDraggableItem:Object(r.useCallback)((function(t){return{onMouseDown:at(D)(t),onMouseEnter:st(d)(t),onDragEnd:lt(Ot),onTouchStart:ft(S)(t),onTouchMove:pt(S),onTouchEnd:dt(Ot)}}),[D,d,Ot,S])}),2),s=a[0],l=a[1],f=bt(Object(r.useState)(),2),p=f[0],d=f[1],y=bt(Object(r.useState)(),2),b=y[0],m=y[1],h=bt(Object(r.useState)(),2),g=h[0],O=h[1],v=bt(Object(r.useState)(!1),2),j=v[0],w=v[1],E=bt(Object(r.useState)(!1),2),x=E[0],S=E[1],P=bt(Object(r.useState)(),2),T=P[0],D=P[1],I=bt(Object(r.useState)(!1),2),C=I[0],M=I[1],A=bt(Object(r.useState)(),2),R=A[0],k=A[1],L=bt(Object(r.useState)(),2),_=L[0],F=L[1],B=bt(Object(r.useState)(),2),W=B[0],H=B[1],N=bt(Object(r.useState)(),2),Y=N[0],X=N[1],z=bt(Object(r.useState)(),2),U=z[0],q=z[1],G=bt(Object(r.useState)(),2),V=G[0],Q=G[1],Z=bt(Object(r.useState)(),2),et=Z[0],nt=Z[1],rt=bt(Object(r.useState)(),2),mt=rt[0],ht=rt[1],gt=Object(r.useMemo)((function(){return ct(D)}),[D]);Object(r.useEffect)((function(){return T&&T.isDown&&document.addEventListener("mousemove",gt),function(){T&&T.isDown&&document.removeEventListener("mousemove",gt)}}),[T,gt]),Object(r.useEffect)((function(){"number"!=typeof R||"number"!=typeof p||p===R||j||(O(s[p].order),w(!0),setTimeout((function(){w(!1)}),500),l({overItemIndex:p,dragItemIndex:R}))}),[p,R,s,j,l]);var Ot=Object(r.useCallback)((function(){D(null),S((function(t){return t&&clearTimeout(it),t&&clearTimeout(ot),!1})),M(!1),H(null),k(null),d(null)}),[D,S,M,H]);Object(r.useEffect)((function(){x||Y||(document.body.style.overflow=et,document.body.style.overscrollBehaviorY=mt)}),[x,Y,et,mt]);var vt=Object(r.useMemo)((function(){return x&&x.pos&&C&&document.elementFromPoint(x.pos.x,x.pos.y).id}),[x,C]);Object(r.useEffect)((function(){if(C&&vt){var t=s.find((function(t){return t.id===vt}));d(t&&t.index)}else x&&x.pos&&clearTimeout(ot),x&&x.pos&&clearTimeout(it)}),[C,s,vt,x]),Object(r.useEffect)((function(){nt(document.body.style.overflow),ht(document.body.style.overscrollBehaviorY)}),[]),Object(r.useEffect)((function(){return document.addEventListener("mouseup",jt),function(){document.removeEventListener("mouseup",jt)}}),[]),Object(r.useEffect)((function(){"number"!=typeof b||"number"!=typeof g||g===b||C||(t.onRearrange&&t.onRearrange(s[R],g,s),m(null),O(null))}),[g,R,s,b,t,C]);var jt=function(t){Ot()},wt=function(t){_&&t.stopPropagation()};Object(r.useEffect)((function(){T&&T.isDown&&T.pos&&!C&&(Math.abs(T.pos.x-T.initialPos.x)>=3||Math.abs(T.pos.y-T.initialPos.y)>=3)&&(M(!0),F(!0),m(s[T.itemIndex].order),k(T.itemIndex)),x&&!C&&(it=setTimeout((function(){document.body.style.overflow="hidden",document.body.style.overscrollBehaviorY="contain"}),300),ot=1===x.numOfFingers&&setTimeout((function(){k(x.itemIndex),M(!0)}),500))}),[x,T,C,s]),Object(r.useEffect)((function(){if(C&&(x||T)&&!Y&&!W)try{var t=document.getElementById("".concat(s[R].id,"-wrapper")).getBoundingClientRect();H({x:(x?x.initialPos.x:T.initialPos.x)-t.left,y:(x?x.initialPos.y:T.initialPos.y)-t.top})}catch(t){console.error(t)}}),[C,R,x,s,Y,T,W]),Object(r.useEffect)((function(){if(C&&W&&(x||T)){if(!Y){var t=s[R].id,e="".concat(t,"-ghost"),n=document.getElementById(t),r=n.classList;n.classList.add("ghost",x&&"touch");var u="ghost ".concat(x&&"touch"),c="".concat(r," ").concat(u),a=o.a.cloneElement(s[R].element,{draggableItem:{id:e,className:c}});X(a)}!V&&Q(s[R].id),q({x:(x?x.pos.x:T.pos.x)-W.x,y:(x?x.pos.y:T.pos.y)-W.y})}else if(!C&&Y){try{var l=document.getElementById("".concat(V,"-wrapper")).getBoundingClientRect(),f=l.left,p=l.top;q({x:f,y:p})}catch(t){console.error(t)}ut=setTimeout((function(){Et()}),i+100)}}),[T,x,C,W,R,Y,s,V,i]);var Et=function(){clearTimeout(ut),X(null),q(null),F(!1)};Object(r.useEffect)((function(){!Y&&V&&(document.getElementById(V).classList.remove("ghost","touch"),Q(null))}),[Y,V]);var xt=bt(Object(r.useState)(!1),2),St=xt[0],Pt=xt[1],Tt=bt(Object(r.useState)(0),2),Dt=Tt[0],It=Tt[1],Ct=bt(Object(r.useState)(!1),2),Mt=Ct[0],At=Ct[1],Rt=bt(Object(r.useState)({elements:[],width:0,height:0,endline:{start:{x:null,y:null},end:{x:null,y:null},byColumns:[],enterEvent:{elementsNum:0,eventHandler:t.onEndlineEnter&&t.onEndlineEnter}}}),2),kt=Rt[0],Lt=Rt[1],_t=bt(Object(r.useState)(0),2),Ft=_t[0],Bt=_t[1],Wt=bt(Object(r.useState)(0),2),Ht=Wt[0],Nt=Wt[1],Yt=Object(r.useRef)(),Xt=Object(r.useRef)(),zt=Object(r.useRef)(),Ut=bt(Object(r.useState)(window.innerWidth),2),qt=Ut[0],Gt=Ut[1],Vt=bt(Object(r.useState)(!1),2),Jt=Vt[0],Kt=Vt[1],Qt=function(t){return Kt(!0)};Object(r.useEffect)((function(){return window.addEventListener("resize",Qt),window.addEventListener("scroll",Zt),function(){window.removeEventListener("resize",Qt),window.removeEventListener("scroll",Zt)}}),[]),Object(r.useEffect)((function(){window.innerWidth!==qt&&(t.onWidthResize(),Gt(window.innerWidth));var e=Yt.current.offsetWidth,n=s.find((function(t){return!t.isSeparator})),r=s[0].width||document.getElementById("".concat(n.id,"-wrapper")).offsetWidth;It(Math.floor(e/r)),At(Jt),Kt(!1)}),[Jt,s]);var Zt=function(t){$t()},$t=function(){Lt((function(t){return Xt.current&&Xt.current.getBoundingClientRect().top-window.innerHeight<=0&&t.endline.enterEvent.elementsNum!==t.elements.length&&(t.endline.enterEvent.elementsNum=t.elements.length,t.endline.enterEvent.eventHandler&&t.endline.enterEvent.eventHandler()),t}))};Object(r.useEffect)((function(){Yt.current.offsetHeight>0&&(Pt(!0),$t()),St&&At(!0)})),Object(r.useEffect)((function(){At((function(){return!(s.length>kt.elements.length)&&(s.length===kt.elements.length||(s.length<kt.elements.length||void 0))}))}),[s,kt.elements.length]),Object(r.useEffect)((function(){var t,e=[],n=kt.endline;n.byColumns=Array(Dt).fill(0),s.concat().sort((function(t,e){return t.order-e.order})).forEach((function(r,o){var i=document.getElementById("".concat(r.id,"-wrapper")),u=r.height||i.offsetHeight;t=r.width||i.offsetWidth;var c,a,s=document.getElementById(r.id),l=r.width||s.offsetWidth,f=r.height||s.offsetHeight,p=s.offsetLeft,d=s.offsetTop,y=Math.min.apply(Math,yt(n.byColumns)),b=n.byColumns.indexOf(y),m=Math.max.apply(Math,yt(n.byColumns)),h=n.byColumns.indexOf(m);if(r.isSeparator){c=0,a=n.byColumns[h];var g=n.byColumns[h]+u;n.byColumns.fill(g)}else c=b*t,a=n.byColumns[b],n.byColumns[b]+=u;e[r.index]={x:c,y:a,cardWidth:l,cardHeight:f,cardOffsetLeft:p,cardOffsetTop:d}})),n.start.x=t*n.byColumns.indexOf(Math.min.apply(Math,yt(n.byColumns))),n.start.y=Math.min.apply(Math,yt(n.byColumns)),n.end.x=t*n.byColumns.indexOf(Math.max.apply(Math,yt(n.byColumns))),n.end.y=Math.max.apply(Math,yt(n.byColumns)),Lt({elements:e,width:t*Dt,height:n.end.y,endline:n})}),[Dt,Ht,Ft,s,kt.endline]);var te=function(t){Bt(Ft+1),console.log("can't load: ",t)},ee=function(t){return Nt(Ht+1)},ne=s.map((function(t,r){return o.a.createElement("div",{className:"element-bounding",id:"".concat(t.id,"-wrapper"),key:"".concat(t.id,"-wrapper"),style:{position:"absolute",margin:0,padding:0,userSelect:"none",top:"".concat(kt.elements[r]?kt.elements[r].y:0,"px"),left:"".concat(kt.elements[r]?kt.elements[r].x:0,"px"),transition:"".concat(V!==t.id&&Mt&&St?"top ".concat(n,"ms ").concat(e,", left ").concat(n,"ms ").concat(e):"none"),visibility:kt.elements[r]&&St?"visible":"hidden",opacity:Y&&V===s[r].id?0:1},onLoad:ee,onError:te,onClickCapture:wt},s[r].element)}));return o.a.createElement("div",{className:"masonry",ref:Yt},t.header&&St&&o.a.createElement("div",{style:{position:"relative",width:"".concat(kt.width,"px"),margin:"0 auto 0 auto"}},t.header),o.a.createElement("div",{style:{position:"relative",width:"".concat(kt.width,"px"),height:"".concat(kt.height,"px"),margin:"0 auto 0 auto",transition:Mt&&St?"width ".concat(n,"ms ").concat(e):"none"},className:"boundry-box"},ne,Y&&o.a.createElement(c,{x:U.x,y:U.y,drag:C,onGhostEndTransition:Et,ghostTransitionDuration:i,ghostTransitionTimingFunction:u},Y),"number"==typeof kt.endline.start.y&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"MasonryLayoutEndlineStart",ref:Xt,style:{position:"absolute",top:"".concat(kt.endline.start.y,"px"),left:"".concat(kt.endline.start.x,"px")}}),o.a.createElement("div",{id:"MasonryLayoutEndlineEnd",ref:zt,style:{position:"absolute",top:"".concat(kt.endline.end.y,"px"),left:"".concat(kt.endline.end.x,"px")}}))))}mt.propTypes={header:u.a.element,children:u.a.element,reverse:u.a.bool,onEndlineEnter:u.a.func,onRearrange:u.a.func,onWidthResize:u.a.func,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,ghostTransitionDuration:u.a.number,ghostTransitionTimingFunction:u.a.string},mt.defaultProps={transitionDuration:600,transitionTimingFunction:"ease",ghostTransitionDuration:200,ghostTransitionTimingFunction:"ease"};e.default=mt}]);