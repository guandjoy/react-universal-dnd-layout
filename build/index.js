module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(4)()},,function(e,t,n){var r,o;!function(i,u){"use strict";void 0===(o="function"==typeof(r=function(){var e=function(){},t="undefined",n=typeof window!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(t,n){for(var o=0;o<r.length;o++){var i=r[o];this[i]=o<t?e:this.methodFactory(i,t,n)}this.log=this.debug}function a(e,n,r){return function(){typeof console!==t&&(u.call(this,n,r),this[e].apply(this,arguments))}}function c(r,u,c){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?i:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}(r)||a.apply(this,arguments)}function s(e,n,o){var i,a=this,s="loglevel";function l(){var e;if(typeof window!==t){try{e=window.localStorage[s]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(s)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}e&&(s+=":"+e),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=o||c,a.getLevel=function(){return i},a.setLevel=function(n,o){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==o&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[s]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"="+n+";"}catch(e){}}}(n),u.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){l()||a.setLevel(e,!1)},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var f=l();null==f&&(f=null==n?"WARN":n),a.setLevel(f,!1)}var l=new s,f={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new s(e,l.getLevel(),l.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return l.noConflict=function(){return typeof window!==t&&window.log===l&&(window.log=p),l},l.getLoggers=function(){return f},l})?r.call(t,n,t,e):r)||(e.exports=o)}()},function(e,t,n){"use strict";var r=n(5);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,u){if(u!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),u=n.n(i);function a(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,u){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,u,a){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,u,a,c){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,u,a,c,s){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,u,a,c,s,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function c(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function s(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function l(e){return function t(n){return 0===arguments.length||s(n)?t:e.apply(this,arguments)}}function f(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return s(n)?t:l((function(t){return e(n,t)}));default:return s(n)&&s(r)?t:s(n)?l((function(t){return e(t,r)})):s(r)?l((function(t){return e(n,t)})):e(n,r)}}}function p(e){return function t(n,r,o){switch(arguments.length){case 0:return t;case 1:return s(n)?t:f((function(t,r){return e(n,t,r)}));case 2:return s(n)&&s(r)?t:s(n)?f((function(t,n){return e(t,r,n)})):s(r)?f((function(t,r){return e(n,t,r)})):l((function(t){return e(n,r,t)}));default:return s(n)&&s(r)&&s(o)?t:s(n)&&s(r)?f((function(t,n){return e(t,n,o)})):s(n)&&s(o)?f((function(t,n){return e(t,r,n)})):s(r)&&s(o)?f((function(t,r){return e(n,t,r)})):s(n)?l((function(t){return e(t,r,o)})):s(r)?l((function(t){return e(n,t,o)})):s(o)?l((function(t){return e(n,r,t)})):e(n,r,o)}}}var d=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};var y=l((function(e){return!!d(e)||!!e&&("object"==typeof e&&(!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),b=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();var g=f((function(e,t){return a(e.length,(function(){return e.apply(t,arguments)}))}));function m(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function v(e,t,n,r){return e["@@transducer/result"](n[r](g(e["@@transducer/step"],e),t))}var O="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function h(e,t,n){if("function"==typeof e&&(e=function(e){return new b(e)}(e)),y(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return v(e,t,n,"fantasy-land/reduce");if(null!=n[O])return m(e,t,n[O]());if("function"==typeof n.next)return m(e,t,n);if("function"==typeof n.reduce)return v(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var j=p(h);function w(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return d(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var E=l(w("tail",p(w("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)})))(1,1/0)));function I(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return a(arguments[0].length,j(c,arguments[0],E(arguments)))}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=n(3),D=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){var r;return(r=e.log).debug.apply(r,[e.scope].concat(n,[t])),t}}},x=I((function(e){return{scope:e,log:T.getLogger(e)}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{trace:D(e)})})),C=f((function(e,t){return Number(e)-Number(t)})),R=f((function(e,t){return e<t}));function A(e,t){var n;t=t||[];var r=(e=e||[]).length,o=t.length,i=[];for(n=0;n<r;)i[i.length]=e[n],n+=1;for(n=0;n<o;)i[i.length]=t[n],n+=1;return i}var M=f((function(e,t){return a(e.length,(function(){try{return e.apply(this,arguments)}catch(e){return t.apply(this,A([e],arguments))}}))})),k=function(e){return console.error(e)};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=I(C,Math.abs,R(2)),U=function(e,t){return F(e.x,t.x)||F(e.y,t.y)},H=function(e){return{x:Math.round(e.x),y:Math.round(e.y)}},W=function(e,t){return I(function(e){return function(){return document.getElementById("".concat(e,"-wrapper")).getBoundingClientRect()}}(t),function(e){return function(t){return{x:e.x-t.left,y:e.y-t.top}}}(e),H)},B=function(e,t){return M(W(e,t),k)()},Y=function(e){return document.elementFromPoint(e.x,e.y).id},G=function(e){return M(Y,k)(e)},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return _({},t,{isMouse:!1,isTouch:!1,isPress:!1,isLongPress:!1,isMove:!1,isDrag:!1,pos:null,initialPos:null,numOfCursors:null,dragItemId:null,dragItemIndex:null,dragPoint:null,overItemId:null,overItemIndex:null})};function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var z=function(e,t,n){return e(setTimeout(t,n))},K=function(e){return e((function(e){return clearTimeout(e),null}))};var q=function(e){var t=e.createAction,n=e.isTouch,o=X(Object(r.useState)(),2),i=o[0],u=o[1],a=X(Object(r.useState)(),2),c=a[0],s=a[1],l=Object(r.useCallback)(t("PRESS"),[]),f=Object(r.useCallback)(t("LONG_PRESS"),[]),p=Object(r.useCallback)((function(){!i&&z(u,l,300),!c&&z(s,f,500)}),[c,f,l,i]),d=Object(r.useCallback)((function(){i&&K(u),c&&K(s)}),[c,i]);Object(r.useEffect)((function(){return n&&p(),function(){return n&&d()}}),[d,n,p])};var J=function(e){var t=e.isTouch,n=e.isMouse,o=e.eventAction,i=Object(r.useCallback)(o("MOUSE_MOVE"),[o]),u=Object(r.useCallback)(o("MOUSE_UP"),[o]),a=Object(r.useCallback)(o("TOUCH_MOVE"),[o]);Object(r.useEffect)((function(){return n&&document.addEventListener("mousemove",i),n&&document.addEventListener("mouseup",u),t&&document.addEventListener("touchmove",a),function(){n&&document.removeEventListener("mousemove",i),n&&document.removeEventListener("mouseup",u),t&&document.removeEventListener("touchmove",a)}}),[i,n,u,t,a])};function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=x("useCursor").log,ne=function(e,t){switch(te.debug("useCursor reducer",t.type,e,t.payload),t.type){case"MOUSE_MOVE":return function(e){var t=e.state,n=e.event;n.preventDefault(),n.stopPropagation();var r={x:n.clientX,y:n.clientY},o=t.isMove||U(r,t.initialPos),i=t.isDrag||o;return _({},t,{pos:r,isMove:o,isDrag:i,preventClick:t.preventClick||i,overItemId:G(r)})}($({state:e},t.payload));case"MOUSE_DOWN":return function(e){var t=e.state,n=e.event,r=e.item;n.preventDefault();var o={x:n.clientX,y:n.clientY};return _({},t,{isMouse:!0,initialPos:o,dragItemId:r.id,dragItemIndex:r.index,pos:o,dragPoint:B(o,r.id)})}($({state:e},t.payload));case"MOUSE_UP":case"DRAG_END":return V({state:e});case"CLICK_CAPTURE":return function(e){var t=e.state,n=e.event;return t.preventClick&&n.stopPropagation(),_({},t,{preventClick:!1})}($({state:e},t.payload));case"TOUCH_START":return function(e){var t=e.state,n=e.event,r=e.item;n.preventDefault(),n.stopPropagation();var o=n.touches.length,i={x:n.touches[0].clientX,y:n.touches[0].clientY};return _({},t,{isTouch:!0,initialPos:i,numOfCursors:o,dragItemId:r.id,dragItemIndex:r.index,pos:i})}($({state:e},t.payload));case"TOUCH_MOVE":return function(e){var t=e.state,n=e.event;e.item;n.preventDefault(),n.stopPropagation();var r={x:n.touches[0].clientX,y:n.touches[0].clientY};return _({},t,{pos:r,isMove:t.isMove||U(r,t.initialPos),overItemId:G(r)})}($({state:e},t.payload));case"TOUCH_END":return V({state:e});case"PRESS":return function(e){var t=e.state;return _({},t,{isPress:!t.isMove})}({state:e});case"LONG_PRESS":return function(e){var t=e.state;return _({},t,{isLongPress:!t.isMove,isDrag:!t.isMove,dragPoint:B(t.initialPos,t.dragItemId)})}({state:e});case"SET_METHODS":return $({},e,{},t.payload);case"SET_OVER_ITEM":return $({},e,{overItemIndex:t.payload,overItemId:t.payload});default:return e}},re=function(e){return function(t){return function(n){return e({type:t,payload:n})}}},oe=function(e){return function(t){return function(n){return e({type:t,payload:{event:n}})}}},ie=function(e){return function(t){return function(n){return function(r){return e({type:t,payload:{event:r,item:n}})}}}};var ue=function(){var e=Q(Object(r.useReducer)(ne,{},V),2),t=e[0],n=e[1],o=Object(r.useCallback)(re(n),[]),i=Object(r.useCallback)(oe(n),[]),u=Object(r.useCallback)(ie(n),[]),a=Object(r.useCallback)((function(e){var t=e.index,n=e.id;return{onMouseDown:u("MOUSE_DOWN")({index:t,id:n}),onDragEnd:i("DRAG_END"),onTouchStart:u("TOUCH_START")({index:t,id:n}),onTouchEnd:i("TOUCH_END"),onClickCapture:i("CLICK_CAPTURE")}}),[i,u]);J($({},t,{eventAction:i})),q($({createAction:o},t)),Object(r.useEffect)((function(){return te.debug("useCursor state update",t)}),[t]);var c=Object(r.useCallback)(o("SET_METHODS"),[]),s=Object(r.useCallback)(o("SET_OVER_ITEM"),[]);return Object(r.useEffect)((function(){return c({setOverItem:s})}),[c,s]),[t,a]};function ae(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function ce(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!d(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,r);i+=1}if(ae(o)){var u=t.apply(null,r);return u(o)}}return n.apply(this,arguments)}}var se=function(){return this.xf["@@transducer/init"]()},le=function(e){return this.xf["@@transducer/result"](e)},fe=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=se,e.prototype["@@transducer/result"]=le,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),pe=f((function(e,t){return new fe(e,t)}));var de=f((function(e,t){return 1===e?l(t):a(e,function e(t,n,r){return function(){for(var o=[],i=0,u=t,c=0;c<n.length||i<arguments.length;){var l;c<n.length&&(!s(n[c])||i>=arguments.length)?l=n[c]:(l=arguments[i],i+=1),o[c]=l,s(l)||(u-=1),c+=1}return u<=0?r.apply(this,o):a(u,e(t,o,r))}}(e,[],t))}));function ye(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var be=Object.prototype.toString,ge=function(){return"[object Arguments]"===be.call(arguments)?function(e){return"[object Arguments]"===be.call(e)}:function(e){return ye("callee",e)}}(),me=!{toString:null}.propertyIsEnumerable("toString"),ve=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Oe=function(){return arguments.propertyIsEnumerable("length")}(),he=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},je="function"!=typeof Object.keys||Oe?l((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=Oe&&ge(e);for(t in e)!ye(t,e)||o&&"length"===t||(r[r.length]=t);if(me)for(n=ve.length-1;n>=0;)ye(t=ve[n],e)&&!he(r,t)&&(r[r.length]=t),n-=1;return r})):l((function(e){return Object(e)!==e?[]:Object.keys(e)})),we=f(ce(["fantasy-land/map","map"],pe,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return de(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return h((function(n,r){return n[r]=e(t[r]),n}),{},je(t));default:return function(e,t){for(var n=0,r=t.length,o=Array(r);n<r;)o[n]=e(t[n]),n+=1;return o}(e,t)}})));function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Te,De=x("useItems").trace,xe=I((function(e){return Ie({},e,{dragItemPrevOrder:e.list[e.dragItemIndex].order,dragItemNewOrder:e.list[e.overItemIndex].order})}),De("update drag item orders"),(Te=function(e){var t=Se(e,2),n=t[0],r=void 0===n?1:n,o=t[1],i=void 0===o?0:o;return function(e){var t=e.order;return r<i?t>r&&t<=i?t-=1:t===r&&(t=i):r>i&&(t<r&&t>=i?t+=1:t===r&&(t=i)),Ie({},e,{order:t})}},function(e){return Ie({},e,{isRearranges:!0,list:we(Te([e.dragItemPrevOrder,e.dragItemNewOrder]),e.list)})}),De("rearrange items"),(function(e){return e.setOverItem(null),e}),De("reset over item"),(function(e){return e.onRearrange(e),Ie({},e,{dragItemId:null,dragItemIndex:null,overItemId:null,overItemIndex:null,dragItemPrevOrder:null,dragItemNewOrder:null})}),De("on rearrange"));function Ce(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(e){return function(t,n){return t.props.isSeparator?function(e){var t=e.child;return{index:e.index,id:t.key,order:t.props.order,isSeparator:t.props.isSeparator,element:t}}({child:t,index:n}):function(e){var t=e.child,n=e.index,r=e.getDraggableItemEvents;return{index:n,id:t.key,order:t.props.order,isSeparator:t.props.isSeparator,width:t.props.width,height:t.props.height,element:o.a.cloneElement(t,Ae({},t.props,{draggableItem:r({index:n,id:t.key})}))}}({child:t,index:n,getDraggableItemEvents:e})}},Le=function(e){var t=e.children,n=e.getDraggableItemEvents;return o.a.Children.map(t,ke(n))},_e=function(e){var t=e.state,n=e.children,r=e.getDraggableItemEvents;return Ae({},t,{},Ce(e,["state","children","getDraggableItemEvents"]),{dragItemId:null,dragItemIndex:null,overItemId:null,overItemIndex:null,dragItemPrevOrder:null,dragItemNewOrder:null,isRearranges:!1,setOverItem:null,list:Le({children:n,getDraggableItemEvents:r})})};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=I((function(e,t){return e.find((function(e){return e.id===t}))}),(function(e){return e?e.index:null})),He=function(e){var t=e.state,n=e.overItemIndex,r=e.overItemId,o=e.dragItemIndex,i=e.dragItemId,u=e.setOverItem;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{overItemId:r,overItemIndex:n||Ue(t.list,r),dragItemId:i,dragItemIndex:o,setOverItem:u})},We=l((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=x("useItems").log,ze=function(e,t){switch(Xe.debug("useItems reducer",t.type,e,t.payload),t.type){case"UPDATE":return _e(Ge({state:e},t.payload));case"CHECK_OVER_ITEM":return He(Ge({state:e},t.payload));case"REORDER":return xe(e);case"REARRANGED":return e.setOverItem(null),Ge({},e,{isRearranges:!1});default:return e}},Ke=function(e){return function(t){return function(n){return e({type:t,payload:n})}}};var qe=function(e){var t=e.children,n=e.getDraggableItemEvents,o=e.cursor,i=e.transitionDuration,u=e.onRearrange,a=Be(Object(r.useReducer)(ze,[],(function(){return _e({children:t,getDraggableItemEvents:n,transitionDuration:i,onRearrange:u})})),2),c=a[0],s=a[1],l=Object(r.useCallback)(Ke(s),[]),f=Object(r.useCallback)(l("UPDATE"),[]),p=Object(r.useCallback)(l("CHECK_OVER_ITEM"),[]),d=Object(r.useCallback)(l("REORDER"),[]),y=Object(r.useCallback)(l("REARRANGED"),[]);return Object(r.useEffect)((function(){return f({children:t,getDraggableItemEvents:n})}),[f,t,n,i,u]),Object(r.useEffect)((function(){o.isDrag&&!c.isRearranges&&o.overItemId&&o.dragItemId&&o.overItemId!==o.dragItemId&&p({dragItemId:o.dragItemId,dragItemIndex:o.dragItemIndex,overItemId:o.overItemId,overItemIndex:o.overItemIndex,setOverItem:o.setOverItem})}),[p,o.dragItemId,o.dragItemIndex,o.isDrag,o.overItemId,o.overItemIndex,o.setOverItem,c.isRearranges]),Object(r.useEffect)((function(){"Number"===We(c.overItemIndex)&&"Number"===We(c.dragItemIndex)&&d()}),[d,c.overItemIndex,c.dragItemIndex]),Object(r.useEffect)((function(){c.isRearranges&&setTimeout((function(){return y()}),i)}),[y,c.isRearranges,i]),Object(r.useEffect)((function(){return Xe.debug("useItems state update",c)}),[c]),[c.list,d]};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=n(3).getLogger("ghost"),et=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return $e.debug.apply($e,["useGhost debug:"].concat(t,[e])),e}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return Qe({},t,{isActive:!1,isDrop:!1,isTransit:!1,id:null,pos:null,source:null,className:null,kernel:null,transDur:null,transTFunc:null,onTransitionEnd:null,transitionTimeout:null})},nt=function(e){return{x:e.pos.x-e.dragPoint.x,y:e.pos.y-e.dragPoint.y}},rt=function(e){return{item:e}},ot=function(e){return Qe({},e,{id:e.item.id})},it=function(e){return Qe({},e,{element:document.getElementById(e.id)})},ut=function(e){return Qe({},e,{classList:e.element.classList})},at=function(e){return e.classList.add("ghost"),e},ct=function(e){return{source:e}},st=function(e){return Qe({},e,{id:"".concat(e.source.id,"-ghost")})},lt=function(e){return Qe({},e,{className:e.source.classList})},ft=function(e){return Qe({},e,{kernel:Object(r.cloneElement)(e.source.item.element,{draggableItem:{id:e.id,className:e.className}})})},pt=function(e){return Qe({},e,{isActive:!0})},dt=function(e){return I(rt,ot,it,ut,at,function(e){return function(t){return e.isTouch&&t.classList.add("touch"),t}}(e),ct,st,lt,ft,function(e){return function(t){return Qe({},t,{pos:nt(e)})}}(e),pt,et("setGhost"))},yt=I(nt,et("calcMovePos")),bt=I((function(e){return"".concat(e,"-wrapper")}),(function(e){return document.getElementById(e)}),(function(e){return e.getBoundingClientRect()}),(function(e){return{x:e.left,y:e.top}}),et("getWrapperFixedPosFromSourceId")),gt=function(e){var t=e.pos,n=e.isTransit,r=e.kernel,i=e.transDur,u=e.transTFunc,a=e.onTransitionEnd,c=n?"left ".concat(i,"ms ").concat(u,", top ").concat(i,"ms ").concat(u):"none";return o.a.createElement("div",{style:{position:"fixed",visibility:"visible",left:t.x,top:t.y,pointerEvents:"none",transition:c},onTransitionEnd:a},r)};gt.propTypes={pos:u.a.object,y:u.a.number,isTransit:u.a.bool,transDur:u.a.number,transTFunc:u.a.string,onTransitionEnd:u.a.func,kernel:u.a.element};var mt=gt;function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jt=x("useGhost").log,wt=function(e,t){switch(jt.debug("useGhost reducer",t.type,e,t.payload),t.type){case"START":return function(e){var t=e.state,n=e.cursor,r=e.item,o=e.transitionParams,i=e.onTransitionEnd;return Qe({},t,{},dt(n)(r),{transDur:o.ghostTransitionDuration,transTFunc:o.ghostTransitionTimingFunction,onTransitionEnd:i})}({state:e,cursor:t.payload.cursor,item:t.payload.item,transitionParams:t.payload.transitionParams,onTransitionEnd:t.payload.onTransitionEnd});case"MOVE":return function(e){var t=e.state,n=e.cursor;return Qe({},t,{pos:yt(n)})}({state:e,cursor:t.payload.cursor});case"DROP":return function(e){var t=e.state;return Qe({},t,{isDrop:!0,isTransit:!0,pos:bt(t.source.id),transitionTimeout:setTimeout(t.onTransitionEnd,t.transDur+100)})}({state:e});case"END":return function(e){var t=e.state;return et("end")(),t.source.element.classList.remove("ghost","touch"),clearTimeout(t.transitionTimeout),tt({state:t})}({state:e});default:return e}},Et=function(e){return function(t){return function(n){return e({type:t,payload:n})}}};var It=function(e,t,n){var i=ht(Object(r.useReducer)(wt,{},tt),2),u=i[0],a=i[1],c=Object(r.useCallback)(Et(a),[]),s=Object(r.useCallback)(c("START"),[]),l=Object(r.useCallback)(c("MOVE"),[]),f=Object(r.useCallback)(c("DROP"),[]),p=Object(r.useCallback)(c("END"),[]);Object(r.useEffect)((function(){e.isDrag&&!u.isActive&&s({cursor:e,item:t[e.dragItemIndex],transitionParams:n,onTransitionEnd:p})}),[e,t,s,p,u.isActive,n]),Object(r.useEffect)((function(){e.isDrag&&e.isMove&&e.pos&&l({cursor:e})}),[e,l]),Object(r.useEffect)((function(){u.isActive&&!e.isDrag&&!u.isDrop&&f()}),[e.isDrag,f,u.isActive,u.isDrop]),Object(r.useEffect)((function(){return jt.debug("useGhost state update",u)}),[u]);var d=u.isActive&&o.a.createElement(mt,u);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u,{component:d})};function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=n(3).getLogger("useGrid"),xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return Dt.debug.apply(Dt,["useGrid debug:"].concat(t,[e])),e}};I((function(e,t){return St({},e,{layoutWidth:t.current.offsetWidth})}),(function(e){return St({},e,{itemWidth:e.item.width||(t=e.item,document.getElementById("".concat(t.id,"-wrapper")).offsetWidth)});var t}),(function(e){return St({},e,{columns:(t=e.itemWidth,n=e.wrapperWidth,Math.floor(n/t))});var t,n}),xt("resize")),I((function(e,t){return St({},e,{item:t})}),xt("item update"));function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=x("useBody").log,Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return At({},t,{pressMode:!1,defaultOverflow:document.body.style.overflow,defaultOverscrollBehaviorY:document.body.style.overscrollBehaviorY})},_t=function(e,t){switch(kt.debug("useBody reducer",t.type,e,t.payload),t.type){case"PRESS":return function(e){return document.body.style.overflow="hidden",document.body.style.overscrollBehaviorY="contain",At({},e,{pressMode:!0})}(e);case"UNPRESS":return function(e){return document.body.style.overflow=e.defaultOverflow,document.body.style.overscrollBehaviorY=e.defaultOverscrollBehaviorY,At({},e,{pressMode:!1})}(e);default:return e}},Nt=function(e){return function(t){return function(n){return e({type:t,payload:n})}}};var Ft=function(e){var t=Ct(Object(r.useReducer)(_t,{},Lt),2),n=t[0],o=t[1],i=Object(r.useCallback)(Nt(o),[]),u=Object(r.useCallback)(i("PRESS"),[]),a=Object(r.useCallback)(i("UNPRESS"),[]);return Object(r.useEffect)((function(){e.isPress&&!n.pressMode&&u(),!e.isPress&&n.pressMode&&a()}),[e.isPress,u,a,n.pressMode]),Object(r.useEffect)((function(){return kt.debug("useBody state updated",n)}),[n]),n},Ut=function(e){var t=e.width,n=e.height,r=e.transition,i=e.layoutIsMount,u=e.transitionDuration,a=e.transitionTimingFunction,c=e.children;return o.a.createElement("div",{style:{position:"relative",width:"".concat(t,"px"),height:"".concat(n,"px"),margin:"0 auto 0 auto",transition:r&&i?"width ".concat(u,"ms ").concat(a):"none"},className:"boundry-box"},c)};Ut.propTypes={width:u.a.number,height:u.a.number,transition:u.a.bool,layoutIsMount:u.a.bool,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,children:u.a.element};var Ht=Ut;function Wt(e){var t=e.startRef,n=e.endRef,r=e.startX,i=e.startY,u=e.endX,a=e.endY;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"MasonryLayoutEndlineStart",ref:t,style:{position:"absolute",top:"".concat(i,"px"),left:"".concat(r,"px")}}),o.a.createElement("div",{id:"MasonryLayoutEndlineEnd",ref:n,style:{position:"absolute",top:"".concat(a,"px"),left:"".concat(u,"px")}}))}Wt.propTypes={startRef:u.a.object,endRef:u.a.object,startX:u.a.number,startY:u.a.number,endX:u.a.number,endY:u.a.number};var Bt=Wt;function Yt(e){var t=e.width,n=e.component;return o.a.createElement("div",{style:{position:"relative",width:"".concat(t,"px"),margin:"0 auto 0 auto"}},n)}Yt.propTypes={component:u.a.element,width:u.a.number};var Gt=Yt;function Vt(e){var t=e.item,n=e.layoutElement,r=e.ghostSourceId,i=e.transition,u=e.layoutIsMount,a=e.transitionDuration,c=e.transitionTimingFunction,s=e.ghost,l=e.loadHandler,f=e.errorHandler,p=e.onClickCapture;return o.a.createElement("div",{className:"element-bounding",id:"".concat(t.id,"-wrapper"),key:"".concat(t.id,"-wrapper"),style:{position:"absolute",margin:0,padding:0,userSelect:"none",top:"".concat(n?n.y:0,"px"),left:"".concat(n?n.x:0,"px"),transition:"".concat(r!==t.id&&i&&u?"top ".concat(a,"ms ").concat(c,", left ").concat(a,"ms ").concat(c):"none"),visibility:n&&u?"visible":"hidden",opacity:s&&r===t.id?0:1},onLoad:l,onError:f,onClickCapture:p},t.element)}Vt.propTypes={item:u.a.object,layoutElement:u.a.object,ghostSourceId:u.a.any,transition:u.a.bool,layoutIsMount:u.a.bool,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,ghost:u.a.node,loadHandler:u.a.func,errorHandler:u.a.func,onClickCapture:u.a.func};var Xt=Vt;function zt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qt=n(3);function Jt(e){var t=e.transitionTimingFunction,n=e.transitionDuration,i=e.ghostTransitionDuration,u=e.ghostTransitionTimingFunction,a=e.children,c=e.onRearrange,s=Object(r.useRef)(),l=Object(r.useRef)(),f=Object(r.useRef)(),p=Kt(ue(),2),d=p[0],y=p[1],b=Kt(qe({children:a,getDraggableItemEvents:y,cursor:d,transitionDuration:n,onRearrange:c}),2),g=b[0],m=b[1],v=It(d,g,{ghostTransitionTimingFunction:u,ghostTransitionDuration:i}),O=(Ft(d),Kt(Object(r.useState)(),2)),h=O[0],j=(O[1],Kt(Object(r.useState)(),2)),w=j[0],E=j[1],I=Kt(Object(r.useState)(),2),P=I[0],S=I[1],T=Kt(Object(r.useState)(!1),2),D=T[0],x=T[1],C=Kt(Object(r.useState)(!1),2),R=C[0],A=(C[1],Kt(Object(r.useState)(),2)),M=A[0],k=(A[1],Kt(Object(r.useState)(!1),2)),L=k[0],_=k[1],N=Kt(Object(r.useState)(),2),F=N[0],U=N[1],H=Kt(Object(r.useState)(),2),W=(H[0],H[1],Kt(Object(r.useState)(),2)),B=W[0],Y=(W[1],Kt(Object(r.useState)(),2)),G=Y[0],V=Y[1],X=Kt(Object(r.useState)(),2),z=X[0],K=X[1];Object(r.useEffect)((function(){"number"!=typeof F||"number"!=typeof h||h===F||D||(S(g[h].order),x(!0),setTimeout((function(){x(!1)}),500),m({overItemIndex:h,dragItemIndex:F}))}),[h,F,g,D,m]),Object(r.useEffect)((function(){R||B||(document.body.style.overflow=G,document.body.style.overscrollBehaviorY=z)}),[R,B,G,z]),Object(r.useEffect)((function(){V(document.body.style.overflow),K(document.body.style.overscrollBehaviorY)}),[]),Object(r.useEffect)((function(){"number"!=typeof w||"number"!=typeof P||P===w||L||(e.onRearrange&&e.onRearrange(g[F],P,g),E(null),S(null))}),[P,F,g,w,e,L]),Object(r.useEffect)((function(){M&&M.isDown&&M.pos&&!L&&(Math.abs(M.pos.x-M.initialPos.x)>=3||Math.abs(M.pos.y-M.initialPos.y)>=3)&&(_(!0),E(g[M.itemIndex].order),U(M.itemIndex)),R&&!L&&(setTimeout((function(){document.body.style.overflow="hidden",document.body.style.overscrollBehaviorY="contain"}),300),1===R.numOfFingers&&setTimeout((function(){U(R.itemIndex),_(!0)}),500))}),[R,M,L,g]);var q=Kt(Object(r.useState)(!1),2),J=q[0],Q=q[1],Z=Kt(Object(r.useState)(0),2),$=Z[0],ee=Z[1],te=Kt(Object(r.useState)(!1),2),ne=te[0],re=te[1],oe=Kt(Object(r.useState)({elements:[],width:0,height:0,endline:{start:{x:null,y:null},end:{x:null,y:null},byColumns:[],enterEvent:{elementsNum:0,eventHandler:e.onEndlineEnter&&e.onEndlineEnter}}}),2),ie=oe[0],ae=oe[1],ce=Kt(Object(r.useState)(0),2),se=ce[0],le=ce[1],fe=Kt(Object(r.useState)(0),2),pe=fe[0],de=fe[1],ye=Kt(Object(r.useState)(window.innerWidth),2),be=ye[0],ge=ye[1],me=Kt(Object(r.useState)(!1),2),ve=me[0],Oe=me[1],he=function(e){return Oe(!0)};Object(r.useEffect)((function(){return window.addEventListener("resize",he),window.addEventListener("scroll",je),function(){window.removeEventListener("resize",he),window.removeEventListener("scroll",je)}}),[]),Object(r.useEffect)((function(){window.innerWidth!==be&&(e.onWidthResize(),ge(window.innerWidth));var t=s.current.offsetWidth,n=g.find((function(e){return!e.isSeparator})),r=g[0].width||document.getElementById("".concat(n.id,"-wrapper")).offsetWidth;ee(Math.floor(t/r)),re(ve),Oe(!1)}),[ve,g]);var je=function(e){we()},we=function(){ae((function(e){return l.current&&l.current.getBoundingClientRect().top-window.innerHeight<=0&&e.endline.enterEvent.elementsNum!==e.elements.length&&(e.endline.enterEvent.elementsNum=e.elements.length,e.endline.enterEvent.eventHandler&&e.endline.enterEvent.eventHandler()),e}))};Object(r.useEffect)((function(){s.current.offsetHeight>0&&(Q(!0),we()),J&&re(!0)})),Object(r.useEffect)((function(){re((function(){return!(g.length>ie.elements.length)&&(g.length===ie.elements.length||(g.length<ie.elements.length||void 0))}))}),[g,ie.elements.length]),Object(r.useEffect)((function(){var e,t=[],n=ie.endline;n.byColumns=Array($).fill(0),g.concat().sort((function(e,t){return e.order-t.order})).forEach((function(r,o){var i=document.getElementById("".concat(r.id,"-wrapper")),u=r.height||i.offsetHeight;e=r.width||i.offsetWidth;var a,c,s=document.getElementById(r.id),l=r.width||s.offsetWidth,f=r.height||s.offsetHeight,p=s.offsetLeft,d=s.offsetTop,y=Math.min.apply(Math,zt(n.byColumns)),b=n.byColumns.indexOf(y),g=Math.max.apply(Math,zt(n.byColumns)),m=n.byColumns.indexOf(g);if(r.isSeparator){a=0,c=n.byColumns[m];var v=n.byColumns[m]+u;n.byColumns.fill(v)}else a=b*e,c=n.byColumns[b],n.byColumns[b]+=u;t[r.index]={x:a,y:c,cardWidth:l,cardHeight:f,cardOffsetLeft:p,cardOffsetTop:d}})),n.start.x=e*n.byColumns.indexOf(Math.min.apply(Math,zt(n.byColumns))),n.start.y=Math.min.apply(Math,zt(n.byColumns)),n.end.x=e*n.byColumns.indexOf(Math.max.apply(Math,zt(n.byColumns))),n.end.y=Math.max.apply(Math,zt(n.byColumns)),ae({elements:t,width:e*$,height:n.end.y,endline:n})}),[$,pe,se,g,ie.endline]);var Ee=function(e){le(se+1),console.log("can't load: ",e)},Ie=function(e){return de(pe+1)},Pe=Object(r.useMemo)((function(){return g.map((function(e,r){return o.a.createElement(Xt,{item:e,key:"".concat(e.id,"-wrapper"),layoutElement:ie.elements[r],transition:ne,layoutIsMount:J,transitionDuration:n,transitionTimingFunction:t,ghost:B,loadHandler:Ie,errorHandler:Ee})}))}),[B,g,ie.elements,J,ne,n,t]);return o.a.createElement("div",{className:"masonry",ref:s},e.header&&J&&o.a.createElement(Gt,{width:ie.width,component:e.header}),o.a.createElement(Ht,{width:ie.width,height:ie.height,transitionDuration:n,transitionTimingFunction:t,transition:ne,layoutIsMount:J},Pe,v.isActive&&v.component,"number"==typeof ie.endline.start.y&&o.a.createElement(Bt,{startRef:l,endRef:f,startX:ie.endline.start.x,startY:ie.endline.start.y,endX:ie.endline.end.x,endY:ie.endline.end.y})))}qt.setLevel("warn"),qt.getLogger("useGhost").setLevel("warn"),qt.getLogger("useCursor").setLevel("warn"),qt.getLogger("useGrid").setLevel("warn"),qt.getLogger("useItems").setLevel("warn"),qt.getLogger("useBody").setLevel("warn"),Jt.propTypes={header:u.a.element,children:u.a.element,reverse:u.a.bool,onEndlineEnter:u.a.func,onRearrange:u.a.func,onWidthResize:u.a.func,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,ghostTransitionDuration:u.a.number,ghostTransitionTimingFunction:u.a.string},Jt.defaultProps={transitionDuration:600,transitionTimingFunction:"ease",ghostTransitionDuration:200,ghostTransitionTimingFunction:"ease"};t.default=Jt}]);