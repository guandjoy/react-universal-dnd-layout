module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports=require("react")},function(t,e,n){t.exports=n(4)()},,function(t,e,n){var r,o;!function(i,u){"use strict";void 0===(o="function"==typeof(r=function(){var t=function(){},e="undefined",n=typeof window!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(e,n){for(var o=0;o<r.length;o++){var i=r[o];this[i]=o<e?t:this.methodFactory(i,e,n)}this.log=this.debug}function a(t,n,r){return function(){typeof console!==e&&(u.call(this,n,r),this[t].apply(this,arguments))}}function c(r,u,c){return function(r){return"debug"===r&&(r="log"),typeof console!==e&&("trace"===r&&n?i:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):t)}(r)||a.apply(this,arguments)}function s(t,n,o){var i,a=this,s="loglevel";function l(){var t;if(typeof window!==e){try{t=window.localStorage[s]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(s)+"=");-1!==r&&(t=/^([^;]+)/.exec(n.slice(r))[1])}catch(t){}return void 0===a.levels[t]&&(t=void 0),t}}t&&(s+=":"+t),a.name=t,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=o||c,a.getLevel=function(){return i},a.setLevel=function(n,o){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==o&&function(t){var n=(r[t]||"silent").toUpperCase();if(typeof window!==e){try{return void(window.localStorage[s]=n)}catch(t){}try{window.document.cookie=encodeURIComponent(s)+"="+n+";"}catch(t){}}}(n),u.call(a,n,t),typeof console===e&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(t){l()||a.setLevel(t,!1)},a.enableAll=function(t){a.setLevel(a.levels.TRACE,t)},a.disableAll=function(t){a.setLevel(a.levels.SILENT,t)};var f=l();null==f&&(f=null==n?"WARN":n),a.setLevel(f,!1)}var l=new s,f={};l.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=f[t];return e||(e=f[t]=new s(t,l.getLevel(),l.methodFactory)),e};var p=typeof window!==e?window.log:void 0;return l.noConflict=function(){return typeof window!==e&&window.log===l&&(window.log=p),l},l.getLoggers=function(){return f},l})?r.call(e,n,e,t):r)||(t.exports=o)}()},function(t,e,n){"use strict";var r=n(5);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,u){if(u!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(1),u=n.n(i);function a(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,u){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,u,a){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,u,a,c){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,u,a,c,s){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,u,a,c,s,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function c(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function s(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function l(t){return function e(n){return 0===arguments.length||s(n)?e:t.apply(this,arguments)}}function f(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return s(n)?e:l((function(e){return t(n,e)}));default:return s(n)&&s(r)?e:s(n)?l((function(e){return t(e,r)})):s(r)?l((function(e){return t(n,e)})):t(n,r)}}}function p(t){return function e(n,r,o){switch(arguments.length){case 0:return e;case 1:return s(n)?e:f((function(e,r){return t(n,e,r)}));case 2:return s(n)&&s(r)?e:s(n)?f((function(e,n){return t(e,r,n)})):s(r)?f((function(e,r){return t(n,e,r)})):l((function(e){return t(n,r,e)}));default:return s(n)&&s(r)&&s(o)?e:s(n)&&s(r)?f((function(e,n){return t(e,n,o)})):s(n)&&s(o)?f((function(e,n){return t(e,r,n)})):s(r)&&s(o)?f((function(e,r){return t(n,e,r)})):s(n)?l((function(e){return t(e,r,o)})):s(r)?l((function(e){return t(n,e,o)})):s(o)?l((function(e){return t(n,r,e)})):t(n,r,o)}}}var d=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};var y=l((function(t){return!!d(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),b=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var m=f((function(t,e){return a(t.length,(function(){return t.apply(e,arguments)}))}));function g(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function v(t,e,n,r){return t["@@transducer/result"](n[r](m(t["@@transducer/step"],t),e))}var h="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function O(t,e,n){if("function"==typeof t&&(t=function(t){return new b(t)}(t)),y(n))return function(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return v(t,e,n,"fantasy-land/reduce");if(null!=n[h])return g(t,e,n[h]());if("function"==typeof n.next)return g(t,e,n);if("function"==typeof n.reduce)return v(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var j=p(O);function w(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return d(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var E=l(w("tail",p(w("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})))(1,1/0)));function P(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return a(arguments[0].length,j(c,arguments[0],E(arguments)))}var T=f((function(t,e){return Number(t)-Number(e)})),S=f((function(t,e){return t<e}));function D(t,e){var n;e=e||[];var r=(t=t||[]).length,o=e.length,i=[];for(n=0;n<r;)i[i.length]=t[n],n+=1;for(n=0;n<o;)i[i.length]=e[n],n+=1;return i}var x=f((function(t,e){return a(t.length,(function(){try{return t.apply(this,arguments)}catch(t){return e.apply(this,D([t],arguments))}}))})),C=function(t){return console.error(t)};function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R=P(T,Math.abs,S(2)),k=function(t,e){return R(t.x,e.x)||R(t.y,e.y)},L=function(t){return{x:Math.round(t.x),y:Math.round(t.y)}},_=function(t,e){return P(function(t){return function(){return document.getElementById("".concat(t.id,"-wrapper")).getBoundingClientRect()}}(e),function(t){return function(e){return{x:t.x-e.left,y:t.y-e.top}}}(t),L)},N=function(t,e){return x(_(t,e),C)()},F=function(t){return document.elementFromPoint(t.x,t.y).id},U=function(t){return x(F,C)(t)},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.state;return M({},e,{isMouse:!1,isTouch:!1,isPress:!1,isLongPress:!1,isMove:!1,isDrag:!1,pos:null,initialPos:null,numOfCursors:null,item:null,dragPoint:null,overItem:null})};function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Y=function(t,e,n){return t(setTimeout(e,n))},B=function(t){return t((function(t){return clearTimeout(t),null}))};var X=function(t){var e=t.plainAction,n=t.isTouch,o=W(Object(r.useState)(),2),i=o[0],u=o[1],a=W(Object(r.useState)(),2),c=a[0],s=a[1],l=Object(r.useCallback)(e("PRESS"),[e]),f=Object(r.useCallback)(e("LONG_PRESS"),[e]),p=Object(r.useCallback)((function(){!i&&Y(u,l,300),!c&&Y(s,f,500)}),[c,f,l,i]),d=Object(r.useCallback)((function(){i&&B(u),c&&B(s)}),[c,i]);Object(r.useEffect)((function(){return n&&p(),function(){return n&&d()}}),[d,n,p])};var G=function(t){var e=t.isTouch,n=t.isMouse,o=t.eventAction,i=Object(r.useCallback)(o("MOUSE_MOVE"),[o]),u=Object(r.useCallback)(o("MOUSE_UP"),[o]),a=Object(r.useCallback)(o("TOUCH_MOVE"),[o]);Object(r.useEffect)((function(){return n&&document.addEventListener("mousemove",i),n&&document.addEventListener("mouseup",u),e&&document.addEventListener("touchmove",a),function(){n&&document.removeEventListener("mousemove",i),n&&document.removeEventListener("mouseup",u),e&&document.removeEventListener("touchmove",a)}}),[i,n,u,e,a])};function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J=function(t,e){switch(e.type){case"MOUSE_MOVE":return function(t){var e=t.state,n=t.event;n.preventDefault(),n.stopPropagation();var r={x:n.clientX,y:n.clientY},o=e.isMove||k(r,e.initialPos),i=e.isDrag||o;return M({},e,{pos:r,isMove:o,isDrag:i,preventClick:e.preventClick||i})}(q({state:t},e.payload));case"MOUSE_ENTER":return function(t){var e=t.state;t.event;return M({},e,{overItem:t.item})}(q({state:t},e.payload));case"MOUSE_DOWN":return function(t){var e=t.state,n=t.event,r=t.item;n.preventDefault();var o={x:n.clientX,y:n.clientY};return M({},e,{isMouse:!0,initialPos:o,item:r,pos:o,dragPoint:N(o,r)})}(q({state:t},e.payload));case"MOUSE_UP":case"DRAG_END":return H({state:t});case"CLICK_CAPTURE":return function(t){var e=t.state,n=t.event;return e.preventClick&&n.stopPropagation(),M({},e,{preventClick:!1})}(q({state:t},e.payload));case"TOUCH_START":return function(t){var e=t.state,n=t.event,r=t.item;n.preventDefault(),n.stopPropagation();var o=n.touches.length,i={x:n.touches[0].clientX,y:n.touches[0].clientY};return M({},e,{isTouch:!0,initialPos:i,numOfCursors:o,item:r,pos:i})}(q({state:t},e.payload));case"TOUCH_MOVE":return function(t){var e=t.state,n=t.event;t.item;n.preventDefault(),n.stopPropagation();var r={x:n.touches[0].clientX,y:n.touches[0].clientY};return M({},e,{pos:r,isMove:e.isMove||k(r,e.initialPos),overItem:{id:U(r)}})}(q({state:t},e.payload));case"TOUCH_END":return H({state:t});case"PRESS":return function(t){var e=t.state;return M({},e,{isPress:!e.isMove})}({state:t});case"LONG_PRESS":return function(t){var e=t.state;return M({},e,{isLongPress:!e.isMove,isDrag:!e.isMove,dragPoint:N(e.initialPos,e.item)})}({state:t});default:return t}},Q=function(t){return function(e){return function(){return t({type:e})}}},Z=function(t){return function(e){return function(n){return t({type:e,payload:{event:n}})}}},$=function(t){return function(e){return function(n){return function(r){return t({type:e,payload:{event:r,item:n}})}}}};var tt=function(){var t=V(Object(r.useReducer)(J,{},H),2),e=t[0],n=t[1],o=Object(r.useCallback)(Q(n),[]),i=Object(r.useCallback)(Z(n),[]),u=Object(r.useCallback)($(n),[]),a=Object(r.useCallback)((function(t){var e=t.index,n=t.id;return{onMouseDown:u("MOUSE_DOWN")({index:e,id:n}),onMouseEnter:u("MOUSE_ENTER")({index:e,id:n}),onDragEnd:i("DRAG_END"),onTouchStart:u("TOUCH_START")({index:e,id:n}),onTouchEnd:i("TOUCH_END"),onClickCapture:i("CLICK_CAPTURE")}}),[i,u]);return G(q({},e,{eventAction:i})),X(q({plainAction:o},e)),[e,a]};function et(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function nt(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!d(o)){for(var i=0;i<t.length;){if("function"==typeof o[t[i]])return o[t[i]].apply(o,r);i+=1}if(et(o)){var u=e.apply(null,r);return u(o)}}return n.apply(this,arguments)}}var rt=function(){return this.xf["@@transducer/init"]()},ot=function(t){return this.xf["@@transducer/result"](t)},it=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=rt,t.prototype["@@transducer/result"]=ot,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),ut=f((function(t,e){return new it(t,e)}));var at=f((function(t,e){return 1===t?l(e):a(t,function t(e,n,r){return function(){for(var o=[],i=0,u=e,c=0;c<n.length||i<arguments.length;){var l;c<n.length&&(!s(n[c])||i>=arguments.length)?l=n[c]:(l=arguments[i],i+=1),o[c]=l,s(l)||(u-=1),c+=1}return u<=0?r.apply(this,o):a(u,t(e,o,r))}}(t,[],e))}));function ct(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var st=Object.prototype.toString,lt=function(){return"[object Arguments]"===st.call(arguments)?function(t){return"[object Arguments]"===st.call(t)}:function(t){return ct("callee",t)}}(),ft=!{toString:null}.propertyIsEnumerable("toString"),pt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],dt=function(){return arguments.propertyIsEnumerable("length")}(),yt=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},bt="function"!=typeof Object.keys||dt?l((function(t){if(Object(t)!==t)return[];var e,n,r=[],o=dt&&lt(t);for(e in t)!ct(e,t)||o&&"length"===e||(r[r.length]=e);if(ft)for(n=pt.length-1;n>=0;)ct(e=pt[n],t)&&!yt(r,e)&&(r[r.length]=e),n-=1;return r})):l((function(t){return Object(t)!==t?[]:Object.keys(t)})),mt=f(nt(["fantasy-land/map","map"],ut,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return at(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return O((function(n,r){return n[r]=t(e[r]),n}),{},bt(e));default:return function(t,e){for(var n=0,r=e.length,o=Array(r);n<r;)o[n]=t(e[n]),n+=1;return o}(t,e)}})));function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ht,Ot=P((function(t){var e=t.state,n=t.dragItemIndex,r=void 0===n?1:n,o=t.overItemIndex,i=void 0===o?0:o;return{items:e,dragItemOrder:e[r].order,overItemOrder:e[i].order}}),(ht=function(t){var e=t.dragItemOrder,n=void 0===e?1:e,r=t.overItemOrder,o=void 0===r?0:r;return function(t){var e=t.order;return n<o?e>n&&e<=o?e-=1:e===n&&(e=o):n>o&&(e<n&&e>=o?e+=1:e===n&&(e=o)),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{order:e})}},function(t){var e=t.items,n=t.dragItemOrder,r=t.overItemOrder;return mt(ht({dragItemOrder:n,overItemOrder:r}),e)}));function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){Et(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt=function(t){return function(e,n){return e.props.isSeparator?function(t){var e=t.child;return{index:t.index,id:e.key,order:e.props.order,isSeparator:e.props.isSeparator,element:e}}({child:e,index:n}):function(t){var e=t.child,n=t.index,r=t.getDraggableItemEvents;return{index:n,id:e.key,order:e.props.order,isSeparator:e.props.isSeparator,width:e.props.width,height:e.props.height,element:o.a.cloneElement(e,wt({},e.props,{draggableItem:r({index:n,id:e.key})}))}}({child:e,index:n,getDraggableItemEvents:t})}},Tt=function(t){var e=t.children,n=t.getDraggableItemEvents;return o.a.Children.map(e,Pt(n))},St=function(t){var e=t.children,n=t.getDraggableItemEvents;return{draggablePrevOrder:null,draggableNewOrder:null,isRearranges:!1,list:Tt({children:e,getDraggableItemEvents:n})}};function Dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var It=function(t,e){switch(e.type){case"UPDATE":return St(e.payload);case"REORDER":return Ot(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){Ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({state:t},e.payload));default:return t}},Mt=function(t){return function(e){return function(n){return t({type:e,payload:n})}}};var At=function(t){var e=t.children,n=t.getDraggableItemEvents,o=(t.cursor,Dt(Object(r.useReducer)(It,[],(function(){return St({children:e,getDraggableItemEvents:n})})),2)),i=o[0],u=o[1],a=Object(r.useMemo)((function(){return Mt(u)}),[u]),c=Object(r.useMemo)((function(){return a("UPDATE")}),[a]),s=Object(r.useMemo)((function(){return a("REORDER")}),[a]);return Object(r.useEffect)((function(){c({children:e,getDraggableItemEvents:n})}),[c,e,n]),[i.list,s]};function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){Lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _t=n(3).getLogger("ghost"),Nt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return _t.debug.apply(_t,["useGhost debug:"].concat(e,[t])),t}},Ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.state;return kt({},e,{isActive:!1,isDrop:!1,isTransit:!1,id:null,pos:null,source:null,className:null,kernel:null,transDur:null,transTFunc:null,onTransitionEnd:null,transitionTimeout:null})},Ut=function(t){return{x:t.pos.x-t.dragPoint.x,y:t.pos.y-t.dragPoint.y}},Ht=function(t){return{item:t}},Wt=function(t){return kt({},t,{id:t.item.id})},Yt=function(t){return kt({},t,{element:document.getElementById(t.id)})},Bt=function(t){return kt({},t,{classList:t.element.classList})},Xt=function(t){return t.classList.add("ghost"),t},Gt=function(t){return{source:t}},Vt=function(t){return kt({},t,{id:"".concat(t.source.id,"-ghost")})},zt=function(t){return kt({},t,{className:t.source.classList})},qt=function(t){return kt({},t,{kernel:Object(r.cloneElement)(t.source.item.element,{draggableItem:{id:t.id,className:t.className}})})},Kt=function(t){return kt({},t,{isActive:!0})},Jt=function(t){return P(Ht,Wt,Yt,Bt,Xt,function(t){return function(e){return t.isTouch&&e.classList.add("touch"),e}}(t),Gt,Vt,zt,qt,function(t){return function(e){return kt({},e,{pos:Ut(t)})}}(t),Kt,Nt("setGhost"))},Qt=P(Ut,Nt("calcMovePos")),Zt=P((function(t){return"".concat(t,"-wrapper")}),(function(t){return document.getElementById(t)}),(function(t){return t.getBoundingClientRect()}),(function(t){return{x:t.left,y:t.top}}),Nt("getWrapperFixedPosFromSourceId")),$t=function(t){var e=t.pos,n=t.isTransit,r=t.kernel,i=t.transDur,u=t.transTFunc,a=t.onTransitionEnd,c=n?"left ".concat(i,"ms ").concat(u,", top ").concat(i,"ms ").concat(u):"none";return o.a.createElement("div",{style:{position:"fixed",visibility:"visible",left:e.x,top:e.y,pointerEvents:"none",transition:c},onTransitionEnd:a},r)};$t.propTypes={pos:u.a.object,y:u.a.number,isTransit:u.a.bool,transDur:u.a.number,transTFunc:u.a.string,onTransitionEnd:u.a.func,kernel:u.a.element};var te=$t;function ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function re(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oe=function(t,e){switch(e.type){case"START":return function(t){var e=t.state,n=t.cursor,r=t.item,o=t.transitionParams,i=t.onTransitionEnd;return kt({},e,{},Jt(n)(r),{transDur:o.ghostTransitionDuration,transTFunc:o.ghostTransitionTimingFunction,onTransitionEnd:i})}({state:t,cursor:e.payload.cursor,item:e.payload.item,transitionParams:e.payload.transitionParams,onTransitionEnd:e.payload.onTransitionEnd});case"MOVE":return function(t){var e=t.state,n=t.cursor;return kt({},e,{pos:Qt(n)})}({state:t,cursor:e.payload.cursor});case"DROP":return function(t){var e=t.state;return kt({},e,{isDrop:!0,isTransit:!0,pos:Zt(e.source.id),transitionTimeout:setTimeout(e.onTransitionEnd,e.transDur+100)})}({state:t});case"END":return function(t){var e=t.state;return Nt("end")(),e.source.element.classList.remove("ghost","touch"),clearTimeout(e.transitionTimeout),Ft({state:e})}({state:t});default:return t}},ie=function(t){return function(e){return function(n){return t({type:e,payload:n})}}};var ue=function(t,e,n){var i=re(Object(r.useReducer)(oe,{},Ft),2),u=i[0],a=i[1],c=Object(r.useCallback)(ie(a),[]),s=Object(r.useCallback)(c("START"),[]),l=Object(r.useCallback)(c("MOVE"),[]),f=Object(r.useCallback)(c("DROP"),[]),p=Object(r.useCallback)(c("END"),[]);Object(r.useEffect)((function(){t.isDrag&&!u.isActive&&s({cursor:t,item:e[t.item.index],transitionParams:n,onTransitionEnd:p}),t.isDrag&&t.isMove&&t.pos&&l({cursor:t}),u.isActive&&!t.isDrag&&!u.isDrop&&f()}),[t,u,e,s,f,l,p,n]);var d=u.isActive&&o.a.createElement(te,u);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(n),!0).forEach((function(e){ne(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},u,{component:d})},ae=function(t){var e=t.width,n=t.height,r=t.transition,i=t.layoutIsMount,u=t.transitionDuration,a=t.transitionTimingFunction,c=t.children;return o.a.createElement("div",{style:{position:"relative",width:"".concat(e,"px"),height:"".concat(n,"px"),margin:"0 auto 0 auto",transition:r&&i?"width ".concat(u,"ms ").concat(a):"none"},className:"boundry-box"},c)};ae.propTypes={width:u.a.number,height:u.a.number,transition:u.a.bool,layoutIsMount:u.a.bool,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,children:u.a.element};var ce=ae;function se(t){var e=t.startRef,n=t.endRef,r=t.startX,i=t.startY,u=t.endX,a=t.endY;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"MasonryLayoutEndlineStart",ref:e,style:{position:"absolute",top:"".concat(i,"px"),left:"".concat(r,"px")}}),o.a.createElement("div",{id:"MasonryLayoutEndlineEnd",ref:n,style:{position:"absolute",top:"".concat(a,"px"),left:"".concat(u,"px")}}))}se.propTypes={startRef:u.a.object,endRef:u.a.object,startX:u.a.number,startY:u.a.number,endX:u.a.number,endY:u.a.number};var le=se;function fe(t){var e=t.width,n=t.component;return o.a.createElement("div",{style:{position:"relative",width:"".concat(e,"px"),margin:"0 auto 0 auto"}},n)}fe.propTypes={component:u.a.element,width:u.a.number};var pe=fe;function de(t){var e=t.item,n=t.layoutElement,r=t.ghostSourceId,i=t.transition,u=t.layoutIsMount,a=t.transitionDuration,c=t.transitionTimingFunction,s=t.ghost,l=t.loadHandler,f=t.errorHandler,p=t.onClickCapture;return o.a.createElement("div",{className:"element-bounding",id:"".concat(e.id,"-wrapper"),key:"".concat(e.id,"-wrapper"),style:{position:"absolute",margin:0,padding:0,userSelect:"none",top:"".concat(n?n.y:0,"px"),left:"".concat(n?n.x:0,"px"),transition:"".concat(r!==e.id&&i&&u?"top ".concat(a,"ms ").concat(c,", left ").concat(a,"ms ").concat(c):"none"),visibility:n&&u?"visible":"hidden",opacity:s&&r===e.id?0:1},onLoad:l,onError:f,onClickCapture:p},e.element)}de.propTypes={item:u.a.object,layoutElement:u.a.object,ghostSourceId:u.a.any,transition:u.a.bool,layoutIsMount:u.a.bool,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,ghost:u.a.node,loadHandler:u.a.func,errorHandler:u.a.func,onClickCapture:u.a.func};var ye=de;function be(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function me(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ge=n(3);function ve(t){var e=t.transitionTimingFunction,n=t.transitionDuration,i=t.ghostTransitionDuration,u=t.ghostTransitionTimingFunction,a=t.children,c=me(tt(),2),s=c[0],l=c[1],f=me(At({children:a,getDraggableItemEvents:l,cursor:s}),2),p=f[0],d=f[1],y=ue(s,p,{ghostTransitionTimingFunction:u,ghostTransitionDuration:i}),b=me(Object(r.useState)(),2),m=b[0],g=(b[1],me(Object(r.useState)(),2)),v=g[0],h=g[1],O=me(Object(r.useState)(),2),j=O[0],w=O[1],E=me(Object(r.useState)(!1),2),P=E[0],T=E[1],S=me(Object(r.useState)(!1),2),D=S[0],x=(S[1],me(Object(r.useState)(),2)),C=x[0],I=(x[1],me(Object(r.useState)(!1),2)),M=I[0],A=I[1],R=me(Object(r.useState)(),2),k=R[0],L=R[1],_=me(Object(r.useState)(),2),N=(_[0],_[1],me(Object(r.useState)(),2)),F=N[0],U=(N[1],me(Object(r.useState)(),2)),H=U[0],W=U[1],Y=me(Object(r.useState)(),2),B=Y[0],X=Y[1];Object(r.useEffect)((function(){"number"!=typeof k||"number"!=typeof m||m===k||P||(w(p[m].order),T(!0),setTimeout((function(){T(!1)}),500),d({overItemIndex:m,dragItemIndex:k}))}),[m,k,p,P,d]),Object(r.useEffect)((function(){D||F||(document.body.style.overflow=H,document.body.style.overscrollBehaviorY=B)}),[D,F,H,B]),Object(r.useEffect)((function(){W(document.body.style.overflow),X(document.body.style.overscrollBehaviorY)}),[]),Object(r.useEffect)((function(){"number"!=typeof v||"number"!=typeof j||j===v||M||(t.onRearrange&&t.onRearrange(p[k],j,p),h(null),w(null))}),[j,k,p,v,t,M]),Object(r.useEffect)((function(){C&&C.isDown&&C.pos&&!M&&(Math.abs(C.pos.x-C.initialPos.x)>=3||Math.abs(C.pos.y-C.initialPos.y)>=3)&&(A(!0),h(p[C.itemIndex].order),L(C.itemIndex)),D&&!M&&(setTimeout((function(){document.body.style.overflow="hidden",document.body.style.overscrollBehaviorY="contain"}),300),1===D.numOfFingers&&setTimeout((function(){L(D.itemIndex),A(!0)}),500))}),[D,C,M,p]);var G=me(Object(r.useState)(!1),2),V=G[0],z=G[1],q=me(Object(r.useState)(0),2),K=q[0],J=q[1],Q=me(Object(r.useState)(!1),2),Z=Q[0],$=Q[1],et=me(Object(r.useState)({elements:[],width:0,height:0,endline:{start:{x:null,y:null},end:{x:null,y:null},byColumns:[],enterEvent:{elementsNum:0,eventHandler:t.onEndlineEnter&&t.onEndlineEnter}}}),2),nt=et[0],rt=et[1],ot=me(Object(r.useState)(0),2),it=ot[0],ut=ot[1],at=me(Object(r.useState)(0),2),ct=at[0],st=at[1],lt=Object(r.useRef)(),ft=Object(r.useRef)(),pt=Object(r.useRef)(),dt=me(Object(r.useState)(window.innerWidth),2),yt=dt[0],bt=dt[1],mt=me(Object(r.useState)(!1),2),gt=mt[0],vt=mt[1],ht=function(t){return vt(!0)};Object(r.useEffect)((function(){return window.addEventListener("resize",ht),window.addEventListener("scroll",Ot),function(){window.removeEventListener("resize",ht),window.removeEventListener("scroll",Ot)}}),[]),Object(r.useEffect)((function(){window.innerWidth!==yt&&(t.onWidthResize(),bt(window.innerWidth));var e=lt.current.offsetWidth,n=p.find((function(t){return!t.isSeparator})),r=p[0].width||document.getElementById("".concat(n.id,"-wrapper")).offsetWidth;J(Math.floor(e/r)),$(gt),vt(!1)}),[gt,p]);var Ot=function(t){jt()},jt=function(){rt((function(t){return ft.current&&ft.current.getBoundingClientRect().top-window.innerHeight<=0&&t.endline.enterEvent.elementsNum!==t.elements.length&&(t.endline.enterEvent.elementsNum=t.elements.length,t.endline.enterEvent.eventHandler&&t.endline.enterEvent.eventHandler()),t}))};Object(r.useEffect)((function(){lt.current.offsetHeight>0&&(z(!0),jt()),V&&$(!0)})),Object(r.useEffect)((function(){$((function(){return!(p.length>nt.elements.length)&&(p.length===nt.elements.length||(p.length<nt.elements.length||void 0))}))}),[p,nt.elements.length]),Object(r.useEffect)((function(){var t,e=[],n=nt.endline;n.byColumns=Array(K).fill(0),p.concat().sort((function(t,e){return t.order-e.order})).forEach((function(r,o){var i=document.getElementById("".concat(r.id,"-wrapper")),u=r.height||i.offsetHeight;t=r.width||i.offsetWidth;var a,c,s=document.getElementById(r.id),l=r.width||s.offsetWidth,f=r.height||s.offsetHeight,p=s.offsetLeft,d=s.offsetTop,y=Math.min.apply(Math,be(n.byColumns)),b=n.byColumns.indexOf(y),m=Math.max.apply(Math,be(n.byColumns)),g=n.byColumns.indexOf(m);if(r.isSeparator){a=0,c=n.byColumns[g];var v=n.byColumns[g]+u;n.byColumns.fill(v)}else a=b*t,c=n.byColumns[b],n.byColumns[b]+=u;e[r.index]={x:a,y:c,cardWidth:l,cardHeight:f,cardOffsetLeft:p,cardOffsetTop:d}})),n.start.x=t*n.byColumns.indexOf(Math.min.apply(Math,be(n.byColumns))),n.start.y=Math.min.apply(Math,be(n.byColumns)),n.end.x=t*n.byColumns.indexOf(Math.max.apply(Math,be(n.byColumns))),n.end.y=Math.max.apply(Math,be(n.byColumns)),rt({elements:e,width:t*K,height:n.end.y,endline:n})}),[K,ct,it,p,nt.endline]);var wt=function(t){ut(it+1),console.log("can't load: ",t)},Et=function(t){return st(ct+1)},Pt=Object(r.useMemo)((function(){return p.map((function(t,r){return o.a.createElement(ye,{item:t,key:"".concat(t.id,"-wrapper"),layoutElement:nt.elements[r],transition:Z,layoutIsMount:V,transitionDuration:n,transitionTimingFunction:e,ghost:F,loadHandler:Et,errorHandler:wt})}))}),[F,p,nt.elements,V,Z,n,e]);return o.a.createElement("div",{className:"masonry",ref:lt},t.header&&V&&o.a.createElement(pe,{width:nt.width,component:t.header}),o.a.createElement(ce,{width:nt.width,height:nt.height,transitionDuration:n,transitionTimingFunction:e,transition:Z,layoutIsMount:V},Pt,y.isActive&&y.component,"number"==typeof nt.endline.start.y&&o.a.createElement(le,{startRef:ft,endRef:pt,startX:nt.endline.start.x,startY:nt.endline.start.y,endX:nt.endline.end.x,endY:nt.endline.end.y})))}ge.setLevel("warn"),ge.getLogger("ghost").setLevel("trace"),ve.propTypes={header:u.a.element,children:u.a.element,reverse:u.a.bool,onEndlineEnter:u.a.func,onRearrange:u.a.func,onWidthResize:u.a.func,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,ghostTransitionDuration:u.a.number,ghostTransitionTimingFunction:u.a.string},ve.defaultProps={transitionDuration:600,transitionTimingFunction:"ease",ghostTransitionDuration:200,ghostTransitionTimingFunction:"ease"};e.default=ve}]);