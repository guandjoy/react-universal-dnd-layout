module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(2)()},function(e,t,n){"use strict";var r=n(3);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,u){if(u!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),u=n.n(i);function c(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function a(e){return function t(n){return 0===arguments.length||c(n)?t:e.apply(this,arguments)}}function s(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return c(n)?t:a((function(t){return e(n,t)}));default:return c(n)&&c(r)?t:c(n)?a((function(t){return e(t,r)})):c(r)?a((function(t){return e(n,t)})):e(n,r)}}}var l=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function f(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function p(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!l(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,r);i+=1}if(f(o)){var u=t.apply(null,r);return u(o)}}return n.apply(this,arguments)}}var d=a((function(e){return!!l(e)||!!e&&("object"==typeof e&&(!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),y=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function b(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,u){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,u,c){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,u,c,a){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,u,c,a,s){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,u,c,a,s,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var m=s((function(e,t){return b(e.length,(function(){return e.apply(t,arguments)}))}));function h(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function g(e,t,n,r){return e["@@transducer/result"](n[r](m(e["@@transducer/step"],e),t))}var O="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function v(e,t,n){if("function"==typeof e&&(e=function(e){return new y(e)}(e)),d(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return g(e,t,n,"fantasy-land/reduce");if(null!=n[O])return h(e,t,n[O]());if("function"==typeof n.next)return h(e,t,n);if("function"==typeof n.reduce)return g(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var j=function(){return this.xf["@@transducer/init"]()},E=function(e){return this.xf["@@transducer/result"](e)},w=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=j,e.prototype["@@transducer/result"]=E,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),x=s((function(e,t){return new w(e,t)}));var P=s((function(e,t){return 1===e?a(t):b(e,function e(t,n,r){return function(){for(var o=[],i=0,u=t,a=0;a<n.length||i<arguments.length;){var s;a<n.length&&(!c(n[a])||i>=arguments.length)?s=n[a]:(s=arguments[i],i+=1),o[a]=s,c(s)||(u-=1),a+=1}return u<=0?r.apply(this,o):b(u,e(t,o,r))}}(e,[],t))}));function S(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var T=Object.prototype.toString,D=function(){return"[object Arguments]"===T.call(arguments)?function(e){return"[object Arguments]"===T.call(e)}:function(e){return S("callee",e)}}(),I=!{toString:null}.propertyIsEnumerable("toString"),M=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=function(){return arguments.propertyIsEnumerable("length")}(),A=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},R="function"!=typeof Object.keys||C?a((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=C&&D(e);for(t in e)!S(t,e)||o&&"length"===t||(r[r.length]=t);if(I)for(n=M.length-1;n>=0;)S(t=M[n],e)&&!A(r,t)&&(r[r.length]=t),n-=1;return r})):a((function(e){return Object(e)!==e?[]:Object.keys(e)})),_=s(p(["fantasy-land/map","map"],x,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return P(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return v((function(n,r){return n[r]=e(t[r]),n}),{},R(t));default:return function(e,t){for(var n=0,r=t.length,o=Array(r);n<r;)o[n]=e(t[n]),n+=1;return o}(e,t)}})));function k(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function L(e){return function t(n,r,o){switch(arguments.length){case 0:return t;case 1:return c(n)?t:s((function(t,r){return e(n,t,r)}));case 2:return c(n)&&c(r)?t:c(n)?s((function(t,n){return e(t,r,n)})):c(r)?s((function(t,r){return e(n,t,r)})):a((function(t){return e(n,r,t)}));default:return c(n)&&c(r)&&c(o)?t:c(n)&&c(r)?s((function(t,n){return e(t,n,o)})):c(n)&&c(o)?s((function(t,n){return e(t,r,n)})):c(r)&&c(o)?s((function(t,r){return e(n,t,r)})):c(n)?a((function(t){return e(t,r,o)})):c(r)?a((function(t){return e(n,t,o)})):c(o)?a((function(t){return e(n,r,t)})):e(n,r,o)}}}var U=L(v);function F(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return l(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var Y=a(F("tail",L(F("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)})))(1,1/0)));function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H,B=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return b(arguments[0].length,U(k,arguments[0],Y(arguments)))}((function(e){var t=e.state,n=e.dragItemIndex,r=void 0===n?1:n,o=e.overItemIndex,i=void 0===o?0:o;return{items:t,dragItemOrder:t[r].order,overItemOrder:t[i].order}}),(H=function(e){var t=e.dragItemOrder,n=void 0===t?1:t,r=e.overItemOrder,o=void 0===r?0:r;return function(e){var t=e.order;return n<o?t>n&&t<=o?t-=1:t===n&&(t=o):n>o&&(t<n&&t>=o?t+=1:t===n&&(t=o)),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{order:t})}},function(e){var t=e.items,n=e.dragItemOrder,r=e.overItemOrder;return _(H({dragItemOrder:n,overItemOrder:r}),t)}));function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){return function(t,n){return t.props.isSeparator?function(e){var t=e.child;return{index:e.index,id:t.key,order:t.props.order,isSeparator:t.props.isSeparator,element:t}}({child:t,index:n}):function(e){var t=e.child,n=e.index,r=e.getDraggableItemEvents;return{index:n,id:t.key,order:t.props.order,isSeparator:t.props.isSeparator,width:t.props.width,height:t.props.height,element:o.a.cloneElement(t,G({},t.props,{draggableItem:r(n)}))}}({child:t,index:n,getDraggableItemEvents:e})}},q=function(e){var t=e.children,n=e.getDraggableItemEvents;return o.a.Children.map(t,z(n))};function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e,t){switch(t.type){case"UPDATE":return q(t.payload);case"REORDER":return B(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({state:e},t.payload));default:return e}},$=function(e){return function(t){return function(n){return e({type:t,payload:n})}}};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){var t=e.isMouse,n=e.eventAction,o=Object(r.useCallback)(n("MOUSE_MOVE"),[n]);Object(r.useEffect)((function(){return t&&document.addEventListener("mousemove",o),function(){return t&&document.removeEventListener("mousemove",o)}}),[o,t])},oe=function(e){var t=e.eventAction,n=Object(r.useCallback)(t("MOUSE_UP"),[t]);Object(r.useEffect)((function(){return document.addEventListener("mouseup",n),function(){document.removeEventListener("mouseup",n)}}),[n])};function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=function(){return{isMouse:!1,isTouch:!1,initialPos:null,pos:null,preventClick:!1,numOfCursors:null,dragItemIndex:null,overItemIndex:null,isDragging:!1,dragPoing:null}},le=function(e,t){switch(t.type){case"MOUSE_MOVE":return function(e){var t=e.state,n=e.event;return n.preventDefault(),n.stopPropagation(),te({},t,{pos:{x:n.clientX,y:n.clientY}})}(ce({state:e},t.payload));case"MOUSE_DOWN":return function(e){var t=e.state,n=e.event,r=e.itemIndex;n.preventDefault();var o={x:n.clientX,y:n.clientY};return te({},t,{isMouse:!0,initialPos:o,dragItemIndex:r,pos:o})}(ce({state:e},t.payload));case"MOUSE_UP":return se();case"MOUSE_ENTER":return function(e){var t=e.state;e.event;return te({},t,{overItemIndex:e.itemIndex})}(ce({state:e},t.payload));case"DRAG_END":return se();case"TOUCH_START":return touchStart(ce({state:e},t.payload));case"TOUCH_MOVE":return function(e){var t=e.state,n=e.event;e.itemIndex;return n.preventDefault(),n.stopPropagation(),te({},t,{pos:{x:n.touches[0].clientX,y:n.touches[0].clientY}})}(ce({state:e},t.payload));case"TOUCH_END":return se();default:return e}},fe=function(e){return function(t){return function(n){return e({type:t,payload:{event:n}})}}},pe=function(e){return function(t){return function(n){return function(r){return e({type:t,payload:{event:r,itemIndex:n}})}}}};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function(e){return function(t){t.preventDefault(),t.stopPropagation(),e((function(e){return ye({},e,{pos:{x:t.clientX,y:t.clientY}})}))}},he=function(e){return function(t){return function(n){n.preventDefault();var r={x:n.clientX,y:n.clientY};e({isDown:!0,initialPos:r,pos:r,preventClick:!1,itemIndex:t})}}},ge=function(e){return function(t){return function(n){return e(t)}}},Oe=function(e){return function(t){return e()}},ve=function(e){return function(t){return function(n){n.preventDefault(),n.stopPropagation();var r={x:n.touches[0].clientX,y:n.touches[0].clientY};e({isActive:!0,numOfFingers:n.touches.length,initialPos:r,pos:r,itemIndex:t})}}},je=function(e){return function(t){t.preventDefault(),t.stopPropagation();var n={x:t.touches[0].clientX,y:t.touches[0].clientY};e((function(e){return ye({},e,{pos:n})}))}},Ee=function(e){return function(t){return e()}},we=function(e){var t=e.width,n=e.height,r=e.transition,i=e.layoutIsMount,u=e.transitionDuration,c=e.transitionTimingFunction,a=e.children;return o.a.createElement("div",{style:{position:"relative",width:"".concat(t,"px"),height:"".concat(n,"px"),margin:"0 auto 0 auto",transition:r&&i?"width ".concat(u,"ms ").concat(c):"none"},className:"boundry-box"},a)};we.propTypes={width:u.a.number,height:u.a.number,transition:u.a.bool,layoutIsMount:u.a.bool,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,children:u.a.element};var xe=we,Pe=function(e){var t=e.x,n=e.y,r=e.drag,i=e.component,u=e.ghostTransitionDuration,c=e.ghostTransitionTimingFunction,a=e.onGhostEndTransition;return o.a.createElement("div",{style:{position:"fixed",visibility:"visible",left:t,top:n,pointerEvents:"none",transition:r?"none":"left ".concat(u,"ms ").concat(c,", top ").concat(u,"ms ").concat(c)},onTransitionEnd:function(){return a()}},i)};Pe.propTypes={x:u.a.number,y:u.a.number,drag:u.a.bool,ghostTransitionDuration:u.a.number,ghostTransitionTimingFunction:u.a.string,onGhostEndTransition:u.a.func,component:u.a.element};var Se=Pe;function Te(e){var t=e.startRef,n=e.endRef,r=e.startX,i=e.startY,u=e.endX,c=e.endY;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"MasonryLayoutEndlineStart",ref:t,style:{position:"absolute",top:"".concat(i,"px"),left:"".concat(r,"px")}}),o.a.createElement("div",{id:"MasonryLayoutEndlineEnd",ref:n,style:{position:"absolute",top:"".concat(c,"px"),left:"".concat(u,"px")}}))}Te.propTypes={startRef:u.a.object,endRef:u.a.object,startX:u.a.number,startY:u.a.number,endX:u.a.number,endY:u.a.number};var De=Te;function Ie(e){var t=e.width,n=e.component;return o.a.createElement("div",{style:{position:"relative",width:"".concat(t,"px"),margin:"0 auto 0 auto"}},n)}Ie.propTypes={component:u.a.element,width:u.a.number};var Me,Ce,Ae,Re=Ie;function _e(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Le(e){var t=e.transitionTimingFunction,n=e.transitionDuration,i=e.ghostTransitionDuration,u=e.ghostTransitionTimingFunction,c=e.children,a=(Object(r.useCallback)((function(e){return{onMouseDown:he(I)(e),onMouseEnter:ge(y)(e),onDragEnd:Oe(be),onTouchStart:ve(S)(e),onTouchMove:je(S),onTouchEnd:Ee(be)}}),[I,y,be,S]),function(){var e=ie(Object(r.useReducer)(le,{},se),2),t=e[0],n=e[1],o=Object(r.useCallback)(fe(n),[n]),i=Object(r.useCallback)(pe(n),[n]),u=Object(r.useCallback)((function(e){return{onMouseDown:i("MOUSE_DOWN")(e),onMouseEnter:i("MOUSE_ENTER")(e),onDragEnd:o("DRAG_END"),onTouchStart:i("TOUCH_START")(e),onTouchMove:o("TOUCH_MOVE"),onTouchEnd:o("TOUCH_END")}}),[i,o]);return Object(r.useEffect)((function(){return console.log(t)}),[t]),re({isMouse:t.isMouse,eventAction:o}),oe({eventAction:o}),{cursor:t,getDraggableItemEvents:u}}()),s=(a.cursor,ke(function(e){var t=e.children,n=e.getDraggableItemEvents,o=J(Object(r.useReducer)(Z,[],(function(){return q({children:t,getDraggableItemEvents:n})})),2),i=o[0],u=o[1],c=Object(r.useMemo)((function(){return $(u)}),[u]),a=Object(r.useMemo)((function(){return c("UPDATE")}),[c]),s=Object(r.useMemo)((function(){return c("REORDER")}),[c]);return Object(r.useEffect)((function(){a({children:t,getDraggableItemEvents:n})}),[a,t,n]),[i,s]}({children:c,getDraggableItemEvents:a.getDraggableItemEvents}),2)),l=s[0],f=s[1],p=ke(Object(r.useState)(),2),d=p[0],y=p[1],b=ke(Object(r.useState)(),2),m=b[0],h=b[1],g=ke(Object(r.useState)(),2),O=g[0],v=g[1],j=ke(Object(r.useState)(!1),2),E=j[0],w=j[1],x=ke(Object(r.useState)(!1),2),P=x[0],S=x[1],T=ke(Object(r.useState)(),2),D=T[0],I=T[1],M=ke(Object(r.useState)(!1),2),C=M[0],A=M[1],R=ke(Object(r.useState)(),2),_=R[0],k=R[1],L=ke(Object(r.useState)(),2),U=L[0],F=L[1],Y=ke(Object(r.useState)(),2),N=Y[0],W=Y[1],H=ke(Object(r.useState)(),2),B=H[0],X=H[1],G=ke(Object(r.useState)(),2),V=G[0],z=G[1],K=ke(Object(r.useState)(),2),Q=K[0],ee=K[1],te=ke(Object(r.useState)(),2),ne=te[0],ue=te[1],ce=ke(Object(r.useState)(),2),ae=ce[0],de=ce[1],ye=Object(r.useMemo)((function(){return me(I)}),[I]);Object(r.useEffect)((function(){return D&&D.isDown&&document.addEventListener("mousemove",ye),function(){D&&D.isDown&&document.removeEventListener("mousemove",ye)}}),[D,ye]),Object(r.useEffect)((function(){"number"!=typeof _||"number"!=typeof d||d===_||E||(v(l[d].order),w(!0),setTimeout((function(){w(!1)}),500),f({overItemIndex:d,dragItemIndex:_}))}),[d,_,l,E,f]);var be=Object(r.useCallback)((function(){I(null),S((function(e){return e&&clearTimeout(Ce),e&&clearTimeout(Me),!1})),A(!1),W(null),k(null),y(null)}),[I,S,A,W]);Object(r.useEffect)((function(){P||B||(document.body.style.overflow=ne,document.body.style.overscrollBehaviorY=ae)}),[P,B,ne,ae]);var we=Object(r.useMemo)((function(){return P&&P.pos&&C&&document.elementFromPoint(P.pos.x,P.pos.y).id}),[P,C]);Object(r.useEffect)((function(){if(C&&we){var e=l.find((function(e){return e.id===we}));y(e&&e.index)}else P&&P.pos&&clearTimeout(Me),P&&P.pos&&clearTimeout(Ce)}),[C,l,we,P]),Object(r.useEffect)((function(){ue(document.body.style.overflow),de(document.body.style.overscrollBehaviorY)}),[]),Object(r.useEffect)((function(){return document.addEventListener("mouseup",Pe),function(){document.removeEventListener("mouseup",Pe)}}),[]),Object(r.useEffect)((function(){"number"!=typeof m||"number"!=typeof O||O===m||C||(e.onRearrange&&e.onRearrange(l[_],O,l),h(null),v(null))}),[O,_,l,m,e,C]);var Pe=function(e){be()},Te=function(e){U&&e.stopPropagation()};Object(r.useEffect)((function(){D&&D.isDown&&D.pos&&!C&&(Math.abs(D.pos.x-D.initialPos.x)>=3||Math.abs(D.pos.y-D.initialPos.y)>=3)&&(A(!0),F(!0),h(l[D.itemIndex].order),k(D.itemIndex)),P&&!C&&(Ce=setTimeout((function(){document.body.style.overflow="hidden",document.body.style.overscrollBehaviorY="contain"}),300),Me=1===P.numOfFingers&&setTimeout((function(){k(P.itemIndex),A(!0)}),500))}),[P,D,C,l]),Object(r.useEffect)((function(){if(C&&(P||D)&&!B&&!N)try{var e=document.getElementById("".concat(l[_].id,"-wrapper")).getBoundingClientRect();W({x:(P?P.initialPos.x:D.initialPos.x)-e.left,y:(P?P.initialPos.y:D.initialPos.y)-e.top})}catch(e){console.error(e)}}),[C,_,P,l,B,D,N]),Object(r.useEffect)((function(){if(C&&N&&(P||D)){if(!B){var e=l[_].id,t="".concat(e,"-ghost"),n=document.getElementById(e),r=n.classList;n.classList.add("ghost",P&&"touch");var u="ghost ".concat(P&&"touch"),c="".concat(r," ").concat(u),a=o.a.cloneElement(l[_].element,{draggableItem:{id:t,className:c}});X(a)}!Q&&ee(l[_].id),z({x:(P?P.pos.x:D.pos.x)-N.x,y:(P?P.pos.y:D.pos.y)-N.y})}else if(!C&&B){try{var s=document.getElementById("".concat(Q,"-wrapper")).getBoundingClientRect(),f=s.left,p=s.top;z({x:f,y:p})}catch(e){console.error(e)}Ae=setTimeout((function(){Ie()}),i+100)}}),[D,P,C,N,_,B,l,Q,i]);var Ie=function(){clearTimeout(Ae),X(null),z(null),F(!1)};Object(r.useEffect)((function(){!B&&Q&&(document.getElementById(Q).classList.remove("ghost","touch"),ee(null))}),[B,Q]);var Le=ke(Object(r.useState)(!1),2),Ue=Le[0],Fe=Le[1],Ye=ke(Object(r.useState)(0),2),Ne=Ye[0],We=Ye[1],He=ke(Object(r.useState)(!1),2),Be=He[0],Xe=He[1],Ge=ke(Object(r.useState)({elements:[],width:0,height:0,endline:{start:{x:null,y:null},end:{x:null,y:null},byColumns:[],enterEvent:{elementsNum:0,eventHandler:e.onEndlineEnter&&e.onEndlineEnter}}}),2),Ve=Ge[0],ze=Ge[1],qe=ke(Object(r.useState)(0),2),Je=qe[0],Ke=qe[1],Qe=ke(Object(r.useState)(0),2),Ze=Qe[0],$e=Qe[1],et=Object(r.useRef)(),tt=Object(r.useRef)(),nt=Object(r.useRef)(),rt=ke(Object(r.useState)(window.innerWidth),2),ot=rt[0],it=rt[1],ut=ke(Object(r.useState)(!1),2),ct=ut[0],at=ut[1],st=function(e){return at(!0)};Object(r.useEffect)((function(){return window.addEventListener("resize",st),window.addEventListener("scroll",lt),function(){window.removeEventListener("resize",st),window.removeEventListener("scroll",lt)}}),[]),Object(r.useEffect)((function(){window.innerWidth!==ot&&(e.onWidthResize(),it(window.innerWidth));var t=et.current.offsetWidth,n=l.find((function(e){return!e.isSeparator})),r=l[0].width||document.getElementById("".concat(n.id,"-wrapper")).offsetWidth;We(Math.floor(t/r)),Xe(ct),at(!1)}),[ct,l]);var lt=function(e){ft()},ft=function(){ze((function(e){return tt.current&&tt.current.getBoundingClientRect().top-window.innerHeight<=0&&e.endline.enterEvent.elementsNum!==e.elements.length&&(e.endline.enterEvent.elementsNum=e.elements.length,e.endline.enterEvent.eventHandler&&e.endline.enterEvent.eventHandler()),e}))};Object(r.useEffect)((function(){et.current.offsetHeight>0&&(Fe(!0),ft()),Ue&&Xe(!0)})),Object(r.useEffect)((function(){Xe((function(){return!(l.length>Ve.elements.length)&&(l.length===Ve.elements.length||(l.length<Ve.elements.length||void 0))}))}),[l,Ve.elements.length]),Object(r.useEffect)((function(){var e,t=[],n=Ve.endline;n.byColumns=Array(Ne).fill(0),l.concat().sort((function(e,t){return e.order-t.order})).forEach((function(r,o){var i=document.getElementById("".concat(r.id,"-wrapper")),u=r.height||i.offsetHeight;e=r.width||i.offsetWidth;var c,a,s=document.getElementById(r.id),l=r.width||s.offsetWidth,f=r.height||s.offsetHeight,p=s.offsetLeft,d=s.offsetTop,y=Math.min.apply(Math,_e(n.byColumns)),b=n.byColumns.indexOf(y),m=Math.max.apply(Math,_e(n.byColumns)),h=n.byColumns.indexOf(m);if(r.isSeparator){c=0,a=n.byColumns[h];var g=n.byColumns[h]+u;n.byColumns.fill(g)}else c=b*e,a=n.byColumns[b],n.byColumns[b]+=u;t[r.index]={x:c,y:a,cardWidth:l,cardHeight:f,cardOffsetLeft:p,cardOffsetTop:d}})),n.start.x=e*n.byColumns.indexOf(Math.min.apply(Math,_e(n.byColumns))),n.start.y=Math.min.apply(Math,_e(n.byColumns)),n.end.x=e*n.byColumns.indexOf(Math.max.apply(Math,_e(n.byColumns))),n.end.y=Math.max.apply(Math,_e(n.byColumns)),ze({elements:t,width:e*Ne,height:n.end.y,endline:n})}),[Ne,Ze,Je,l,Ve.endline]);var pt=function(e){Ke(Je+1),console.log("can't load: ",e)},dt=function(e){return $e(Ze+1)},yt=l.map((function(e,r){return o.a.createElement("div",{className:"element-bounding",id:"".concat(e.id,"-wrapper"),key:"".concat(e.id,"-wrapper"),style:{position:"absolute",margin:0,padding:0,userSelect:"none",top:"".concat(Ve.elements[r]?Ve.elements[r].y:0,"px"),left:"".concat(Ve.elements[r]?Ve.elements[r].x:0,"px"),transition:"".concat(Q!==e.id&&Be&&Ue?"top ".concat(n,"ms ").concat(t,", left ").concat(n,"ms ").concat(t):"none"),visibility:Ve.elements[r]&&Ue?"visible":"hidden",opacity:B&&Q===l[r].id?0:1},onLoad:dt,onError:pt,onClickCapture:Te},l[r].element)}));return o.a.createElement("div",{className:"masonry",ref:et},e.header&&Ue&&o.a.createElement(Re,{width:Ve.width,component:e.header}),o.a.createElement(xe,{width:Ve.width,height:Ve.height,transitionDuration:n,transitionTimingFunction:t,transition:Be,layoutIsMount:Ue},yt,B&&o.a.createElement(Se,{x:V.x,y:V.y,drag:C,component:B,onGhostEndTransition:Ie,ghostTransitionDuration:i,ghostTransitionTimingFunction:u}),"number"==typeof Ve.endline.start.y&&o.a.createElement(De,{startRef:tt,endRef:nt,startX:Ve.endline.start.x,startY:Ve.endline.start.y,endX:Ve.endline.end.x,endY:Ve.endline.end.y})))}Le.propTypes={header:u.a.element,children:u.a.element,reverse:u.a.bool,onEndlineEnter:u.a.func,onRearrange:u.a.func,onWidthResize:u.a.func,transitionDuration:u.a.number,transitionTimingFunction:u.a.string,ghostTransitionDuration:u.a.number,ghostTransitionTimingFunction:u.a.string},Le.defaultProps={transitionDuration:600,transitionTimingFunction:"ease",ghostTransitionDuration:200,ghostTransitionTimingFunction:"ease"};t.default=Le}]);